(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8541],{9562:function(e,n,t){"use strict";t.d(n,{P:function(){return u}});var r=t(85893),o=t(41664),i=t(50514);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=function(e){var n=e.children,t=a(e,["children"]);if(!t.href)throw new Error("AnchorLink requires an href prop");return(0,r.jsx)(o.default,{href:t.href,passHref:!0,children:(0,r.jsx)(i.rU,l({},t,{children:n}))})}},98861:function(e,n,t){"use strict";t.d(n,{fi:function(){return r},Pc:function(){return o},ZD:function(){return i}});var r=function(e){return null!==e&&void 0!==e&&e.trim().length>0},o=function(e){return e?e.reduce((function(e,n){return e[n.name]=n.text,e}),{}):{}},i=function(e){var n,t,r,o;if(e){var i,s=[],l=null===e||void 0===e||null===(n=e.nanodegree)||void 0===n?void 0:n.id;if(l){var a,u;s.push(l);var c=null===(a=e.part)||void 0===a?void 0:a.id;c&&s.push(c),i=null===(u=e.part)||void 0===u?void 0:u.moduleId}else{var d,f,m,v=(null===e||void 0===e||null===(d=e.paidCourse)||void 0===d?void 0:d.id)||(null===e||void 0===e||null===(f=e.freeCourse)||void 0===f?void 0:f.id);v&&s.push(v),i=null===e||void 0===e||null===(m=e.paidCourse)||void 0===m?void 0:m.moduleId}i&&s.push(i);var p=null===e||void 0===e||null===(t=e.lesson)||void 0===t?void 0:t.id;p&&s.push(p);var h=null===e||void 0===e||null===(r=e.concept)||void 0===r?void 0:r.id;h&&s.push(h);var b=null===e||void 0===e||null===(o=e.lab)||void 0===o?void 0:o.id;return b&&s.push(b),s}}},5826:function(e,n,t){"use strict";t.d(n,{a:function(){return p},Q:function(){return v}});var r=t(85893),o=t(67294),i=t(26793),s=t(42642),l=t(17570),a=t(62255),u=t(71447);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){c(e,n,t[n])}))}return e}function f(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var m=function(e){var n=e.label,t=e.ctaTextEn,i=e.onClick,s=e.trackingEventName,l=e.trackingContext,c=void 0===l?{}:l,m=e.trackingOptions,v=e.destination,p=f(e,["label","ctaTextEn","onClick","trackingEventName","trackingContext","trackingOptions","destination"]),h=(0,u.z)(c).track,b=(0,o.useCallback)((function(){var e=d({cta_type:"button",cta_text:t,destination_url:v},m);h(s,e)}),[v,t,h,s,m]);return(0,r.jsx)(a.zx,d({onClick:function(e){i&&i(e),(null===e||void 0===e?void 0:e.defaultPrevented)||b()}},p,{isTruncated:!0,dir:"auto",children:n}))},v=function(e){var n=e.onClick,t=(0,i.$)().t;return(0,r.jsx)(m,{label:t("common.previous"),ps:4,ctaTextEn:t("common.previous",{lng:"en-US"}),onClick:n,leftIcon:(0,r.jsx)(l.e,{children:(0,r.jsx)(s.V11,{w:8,h:8})}),variant:"outline",trackingEventName:"Classroom Nav Clicked"})},p=function(e){var n=e.onClick,t=(0,i.$)().t;return(0,r.jsx)(m,{label:t("common.next"),pe:4,ctaTextEn:t("common.next",{lng:"en-US"}),onClick:n,rightIcon:(0,r.jsx)(l.e,{children:(0,r.jsx)(s.ahy,{w:8,h:8})}),trackingEventName:"Classroom Nav Clicked"})}},10034:function(e,n,t){"use strict";t.d(n,{O:function(){return s}});var r=t(85893),o=(t(67294),t(24021)),i=t(71447),s=function(e){var n=e.trackingEventName,t=e.ctaTextEn,s=e.children,l=e.onClick,a=(0,i.z)().track;return(0,r.jsx)(o.OK,{onClick:function(){l&&l(),a(n,{cta_type:"tab",cta_text:t})},children:s})}},70349:function(e,n,t){"use strict";t.d(n,{r:function(){return y}});var r=t(85893),o=t(67294),i=t(94184),s=t.n(i),l=t(39138),a=t.n(l),u=t(26793),c=t(50514),d=t(40967),f=t(60612),m=t(62255),v=t(58013),p=t(71447),h=t(33943),b=t(43567),x=t.n(b);function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=[1,2,3],y=function(e){var n=e.button,t=e.currentContent,i=e.currentTitle,s=e.customPrompt,l=e.isOpen,b=e.onRequestClose,x=e.nextTitle,y=(0,o.useState)(null),k=y[0],C=y[1],S=(0,o.useState)(""),O=S[0],P=S[1],_=(0,p.z)().track,E=(0,u.$)().t,A=function(e,n){var r=t.project?"project":t.lab?"lab":"default",o={user_id:(0,h.sq)(),feedback_version:"1.0",scale:3,lesson_key:t.key,lesson_type:r};_("Lesson Feedback ".concat(e),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}({},o,n))};(0,o.useEffect)((function(){A("Displayed",{cta_type:"modal"})}),[]);return(0,r.jsx)(v.u,{isOpen:l,onClose:b,ariaLabel:E("lesson.feedback.lessonComplete"),title:E("lesson.feedback.lessonComplete"),headerHidden:!0,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.xu,{pb:6,textAlign:"center",borderBottom:"1px solid",borderBottomColor:"gray.300",children:[(0,r.jsx)(c.X6,{size:"h5",as:"h5",mb:2,children:E("lesson.feedback.justCompleted")}),(0,r.jsx)(c.xv,{children:i})]}),(0,r.jsxs)(c.xu,{py:8,children:[(0,r.jsxs)(c.xu,{pb:4,mb:4,borderBottom:"1px solid",borderBottomColor:"gray.300",children:[(0,r.jsx)(c.X6,{size:"h3",as:"p",textAlign:"center",children:s||E("lesson.feedback.howWasIt")}),(0,r.jsx)(c.kC,{justify:"space-around",alignItems:"center",mb:5,px:0,py:5,minH:"9.375rem",children:g.map((function(e){return w(e,k,C)}))}),null!==k&&(0,r.jsx)(c.xu,{minH:"9.375rem",children:(0,r.jsxs)(d.NI,{children:[(0,r.jsx)(d.lX,{mb:2,children:E("lesson.feedback.suggestedImprovements")}),(0,r.jsx)(f.g,{onChange:function(e){var n=a()(e.target.value,{length:512});P(n)},value:O,rows:6,maxW:"full"}),(0,r.jsx)(d.Q6,{fontSize:"sm",textAlign:"end",mt:3,color:"gray.700",minH:6,children:E("lesson.feedback.charactersRemaining",{count:512-O.length})})]})})]}),(0,r.jsxs)(c.kC,{justify:"space-between",alignItems:"center",children:[(0,r.jsxs)(c.xu,{maxWidth:"75%",children:[(0,r.jsx)(c.X6,{size:"h5",as:"h5",children:E("lesson.feedback.next")}),(0,r.jsx)(c.xv,{me:3,children:x})]}),(0,r.jsx)(m.zx,{variant:"solid",onClick:function(e){e.preventDefault(),(k||O)&&A("Submitted",{rating:k,suggestions:O}),b(),n.goToNext()},autoFocus:!0,children:null!==k?E("lesson.feedback.send"):x?n.label:E("lesson.feedback.back")})]})]})]})})},w=function(e,n,t){var i,l=(0,o.useState)(null),a=l[0],d=l[1],f=(0,u.$)().t,m=function(){d(null)},v=function(e){d(e)},p=function(e){return f(1===e?"lesson.feedback.feedbackArialLabelNegative":2===e?"lesson.feedback.feedbackAriaLabelNeutral":"lesson.feedback.feedbackAriaLabelPositive")};return(0,r.jsx)(c.xu,{as:"button",className:(i=e,s()(x().icon,x().reaction,x()["reaction-".concat(i)],j({},x()["reaction-".concat(i,"-hover")],a&&a===i),j({},x()["reaction-".concat(i,"-small")],n&&n!==i),j({},x()["reaction-".concat(i,"-active")],n===i||!n))),onClick:function(){return t(e),void d(null)},onMouseEnter:function(){return v(e)},onMouseOut:m,onFocus:function(){return v(e)},onBlur:m,"aria-label":p(e),children:p(e)},e)}},78541:function(e,n,t){"use strict";t.d(n,{N:function(){return Bo}});var r=t(85893),o=t(67294),i=t(2962),s=t(26793),l=t(46361),a=t(29001),u=t(50514),c=t(44473),d=t(40556),f=t(20285);function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=function(e){return f.pr.util.updateQueryData("StudentWeeklyChallenge",{user_id:e},(function(e){if(e.studentChallenge){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}({},e.studentChallenge,{concepts_completed_count:e.studentChallenge.concepts_completed_count++});Object.assign(n,e)}}))},p=t(5978),h=t(69868),b=t(5826),x=t(41664),j=t(46227),g=t(55474),y=t(42642),w=t(17570),k=function(e){var n=e.breadcrumbs,t=void 0===n?[]:n;return(0,r.jsxs)(j.aG,{spacing:1,separator:(0,r.jsx)(w.e,{children:(0,r.jsx)(y.QUb,{w:"32px",h:"32px"})}),children:[t.length>3&&[(0,r.jsx)(j.gN,{isCurrentPage:t[0].current,children:(0,r.jsx)(x.default,{href:t[0].path,passHref:!0,children:(0,r.jsx)(j.At,{children:t[0].name})})},t[0].path),(0,r.jsx)(j.gN,{children:(0,r.jsxs)(g.v2,{variant:"breadcrumb",children:[(0,r.jsx)(g.j2,{children:"..."}),(0,r.jsx)(g.qy,{children:t.slice(1,t.length-2).map((function(e){var n=e.name,t=e.path;return(0,r.jsx)(x.default,{href:t,passHref:!0,children:(0,r.jsx)(g.sN,{as:"a",children:n})},t)}))})]})},"breadcrumb-menu"),(0,r.jsx)(j.gN,{isCurrentPage:t[t.length-2].current,children:(0,r.jsx)(x.default,{href:t[t.length-2].path,passHref:!0,children:(0,r.jsx)(j.At,{children:t[t.length-2].name})})},t[t.length-2].path),(0,r.jsx)(j.gN,{isCurrentPage:t[t.length-1].current,children:(0,r.jsx)(u.xv,{children:t[t.length-1].name})},t[t.length-1].name)],t.length<=3&&t.map((function(e){var n=e.name,t=e.path,o=e.current;return(0,r.jsx)(j.gN,{isCurrentPage:o,children:t?(0,r.jsx)(x.default,{href:t,passHref:!0,children:(0,r.jsx)(j.At,{children:n})}):(0,r.jsx)(u.xv,{children:n})},t)}))]})},C=t(43174),S=t.n(C),O=t(5152),P=t(50361),_=t.n(P),E=t(66073),A=t.n(E),I=t(82492),T=t.n(I),z=t(62255),F=t(98861),R=t(34051),D=t.n(R),M=t(47603),N=t(88393),q=t(35161),U=t.n(q),B=t(51179),H=t(63686);function L(e,n,t,r,o,i,s){try{var l=e[i](s),a=l.value}catch(u){return void t(u)}l.done?n(a):Promise.resolve(a).then(r,o)}function $(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function s(e){L(i,r,o,s,l,"next",e)}function l(e){L(i,r,o,s,l,"throw",e)}s(void 0)}))}}function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){X(e,n,t[n])}))}return e}function K(e){return G.apply(this,arguments)}function G(){return(G=$(D().mark((function e(n){var t,r,o,i;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nodeId,r=n.rootId,o=n.userResponse,e.prev=1,e.next=4,(0,H.v_)((0,B.H)("/api/classroom-content/v1/evaluations/evaluate"),{node_id:t,root_id:r,user_response:{selected_ids:null===o||void 0===o?void 0:o.selectedIds,selected_id:null===o||void 0===o?void 0:o.selectedId,text:null===o||void 0===o?void 0:o.answer,answer_ids:null===o||void 0===o?void 0:o.answerIds}});case 4:return i=e.sent,e.abrupt("return",i.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Q(e){return Y.apply(this,arguments)}function Y(){return Y=$(D().mark((function e(n){var t,r,o,i,s,l,a,u,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.atomKey,r=n.atomId,o=n.rootId,i=n.evaluationId,s=n.userResponse,l=n.operation,a=n.clientExecution,u={model:"Submission",operation:l||re.Grade,parts:U()(s,(function(e,n){return{model:"SubmissionPart",marker:n,content:e}}))},a&&(u.client_execution=W({},a,{raw_result:JSON.stringify(a.raw_result)})),e.prev=3,e.next=6,(0,H.v_)((0,B.H)("/api/classroom-content/v1/evaluations/evaluate"),{evaluation_id:i,atomKey:t,atomId:r,rootId:o,submission:u});case 6:return c=e.sent,e.abrupt("return",c.data);case 10:return e.prev=10,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[3,10]])}))),Y.apply(this,arguments)}var Z=t(3397);function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function J(e,n,t,r,o,i,s){try{var l=e[i](s),a=l.value}catch(u){return void t(u)}l.done?n(a):Promise.resolve(a).then(r,o)}function ee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ee(e,n,t[n])}))}return e}function te(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re,oe=(0,o.createContext)(null),ie=function(){var e=(0,o.useState)(null),n=e[0],t=e[1],r=te((0,d.ss)(),2),i=r[0],s=r[1].error;(0,o.useEffect)((function(){s&&console.error("Could not save atom user state")}),[s]);var l=function(e,n){var t=null===n||void 0===n?void 0:n.isCorrect;if(t)return{kind:Z.bG.TaskListQuiz,evaluation:{feedback:e.content.positive_feedback,video_feedback:e.content.video_feedback,passed:t,comment:null}}},a=(0,o.useCallback)(function(){var e,n=(e=D().mark((function e(n){var r,o,s,a,u,c,d,f,m,v;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.atom,((0,Z.Xf)(r)||(0,Z.nO)(r)||(0,Z.q1)(r)||(0,Z.Qy)(r))&&(o=K),(0,Z.$y)(r)&&(o=Q),o||(0,Z.oh)(r)||(0,Z.Q6)(r)){e.next=6;break}return e.abrupt("return",console.error("Could not evaluate atom with semantic type ".concat(r.semanticType)));case 6:if(!o){e.next=12;break}return e.next=9,(0,N.Ac)(n,o);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=(0,Z.oh)(r)?l(r,n.userResponse):void 0;case 13:if(s=e.t0,a=(0,M.eH)(s,r),t(a),u=(0,N.AS)(ne({},n,{feedback:null===s||void 0===s?void 0:s.evaluation}))){e.next=19;break}return e.abrupt("return",console.error("Could not update quiz atom state. Missing atom properties"));case 19:if(c=u.rootId,d=u.lessonId,f=u.nodeId,m=u.userResponse,c&&d){e.next=22;break}return e.abrupt("return",console.error("Could not update quiz atom state. Missing root id or key"));case 22:v=m,m.selectedIds?v={selected_ids:m.selectedIds,is_correct:m.isCorrect}:m.selectedId?v={selected_id:m.selectedId,is_correct:m.isCorrect}:m.answer&&(v={answer:m.answer,is_correct:m.isCorrect}),i({rootId:c,input:{node_id:f,unstructured:JSON.stringify(v)},lessonId:d,atom:r});case 25:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function s(e){J(i,r,o,s,l,"next",e)}function l(e){J(i,r,o,s,l,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[i]);return{feedback:n,clearFeedback:function(){t(null)},submitUserInput:a}},se=function(){var e=(0,o.useContext)(oe);if(null===e)throw new Error("Unable to access GradedAtomContext");return e},le=t(63598),ae=t(79284);!function(e){e.Grade="GRADE",e.Test="TEST"}(re||(re={}));var ue=t(92127),ce=t(99175),de=t(63158),fe=t(32579),me=(0,de.m$)(u.xv,{baseStyle:{fontFamily:"mono"}}),ve=function(e){var n=e.stderr,t=e.stdout,o=e.comment,i=e.imageUrls,l=(0,s.$)().t;return(0,r.jsxs)(u.xu,{p:5,mt:5,maxH:"18.75rem",minH:32,w:"full",overflowY:"auto",border:"1px solid",borderColor:"gray-border",children:[o&&(0,r.jsx)(me,{children:o}),n&&!o&&(0,r.jsx)(me,{color:"feedback.negative",children:n}),t&&!o&&(0,r.jsx)(me,{children:t}),!!(null===i||void 0===i?void 0:i.length)&&!o&&(0,r.jsx)(u.kC,{justify:"center",children:null===i||void 0===i?void 0:i.map((function(e,n){return e?(0,r.jsx)(fe.Ee,{src:e,alt:l("lesson.testRunImage",{count:n}),maxW:"100%",border:"1px solid",borderColor:"gray-border",m:"5 auto 0"},n):null}))})]})},pe=(0,O.default)((function(){return t.e(4915).then(t.t.bind(t,23085,23))}),{loadableGenerated:{webpack:function(){return[23085]}},ssr:!1}),he=function(e){return(0,r.jsx)(ue.j,{defaultComponent:be,saComponent:ce.f,passthrough:e})},be=function(e){var n=e.atom,t=e.atom.content,i=t.codeFiles,l=t.quizState,a=e.handleSubmit,c=(0,s.$)().t,d=se().feedback,f=(0,o.useState)([]),m=f[0],v=f[1],p=(0,o.useCallback)((function(){var e=_()(i),n=[],t=l.userState;t&&A()(t,(function(e,t){if("isCorrect"!==t&&"is_correct"!==t){var r={name:t,text:e};n.push(r)}})),n.length&&T()(e,n),v(null!==e&&void 0!==e?e:[])}),[i,l.userState]);(0,o.useEffect)((function(){p()}),[p]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(pe,{files:m,onChange:function(e){v(e)}}),(0,r.jsx)(ve,{stderr:null===d||void 0===d?void 0:d.stderr,stdout:null===d||void 0===d?void 0:d.stdout,comment:null===d||void 0===d?void 0:d.comment,imageUrls:null===d||void 0===d?void 0:d.imageUrls}),(0,r.jsxs)(u.kC,{justify:"flex-end",children:[(0,r.jsx)(z.zx,{variant:"outline",onClick:function(){var e;v(null!==(e=_()(i))&&void 0!==e?e:[])},mt:4,ms:4,children:c("lesson.resetQuiz")}),(0,r.jsx)(z.zx,{variant:"outline",onClick:function(){var e=(0,F.Pc)(m);a(n,e,re.Test)},mt:4,ms:4,children:c("lesson.testRun")}),(0,r.jsx)(z.zx,{variant:"solid",onClick:function(){var e=(0,F.Pc)(m);a(n,e,re.Grade)},mt:4,ms:4,children:c("lesson.submitAnswer")})]})]})},xe=t(45858),je=t(60612),ge=function(e){var n=e.children;return(0,r.jsx)(u.xu,{bgColor:"white",border:"1px solid",borderColor:"gray.300",children:n})},ye=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1});function we(e){var n,t=null===(n=e.content.quizState)||void 0===n?void 0:n.userState;return t&&"object"===typeof t?t:{}}var ke,Ce=function(e){return(0,r.jsx)(ue.j,{defaultComponent:Se,saComponent:ce.f,passthrough:e})},Se=function(e){var n=e.atom,t=e.handleSubmit,i=(0,s.$)().t,l=(0,o.useState)(""),a=l[0],c=l[1],d=(0,o.useState)(null),f=d[0],m=d[1];(0,o.useEffect)((function(){var e,t,r=we(n);c(null!==(e=r.answer)&&void 0!==e?e:""),m(null!==(t=r.is_correct)&&void 0!==t?t:null)}),[n]);var v=(0,o.useCallback)((function(){c(""),m(null)}),[c,m]),p=(0,o.useCallback)((function(e){c(e.target.value)}),[c]),h=(0,o.useCallback)((function(){t(n,{"studentMain.py":a,answer:a},re.Grade)}),[n,t,a]),b=n.content,x=b.prompt,j=b.title,g=we(n).answer;return(0,r.jsx)(ge,{children:(0,r.jsxs)(u.xu,{p:6,children:[(0,r.jsx)(u.xu,{minH:8,children:(0,r.jsxs)(u.kC,{w:"full",justify:"space-between",align:"center",children:[(0,r.jsx)(u.X6,{size:"h2",mb:4,children:j}),g&&null!==f&&(f?(0,r.jsx)(y.YJ9,{role:"img",color:"feedback.positive",w:8,h:8,"aria-label":i("lesson.quizResults.correct")}):(0,r.jsx)(y.rCs,{role:"img",color:"feedback.negative",w:8,h:8,"aria-label":i("lesson.quizResults.incorrect")}))]})}),(0,r.jsx)(u.xu,{mb:4,children:(0,r.jsx)(ye,{markdownText:null!==x&&void 0!==x?x:"",showErrorBoundaryMessage:"true"===(0,B.H)("false")})}),g&&f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{}),(0,r.jsx)(u.xv,{mt:2,mb:4,children:a}),(0,r.jsx)(z.zx,{onClick:v,variant:"outline",children:i("lesson.resetQuiz")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xu,{mb:4,children:(0,r.jsx)(je.g,{onChange:p,placeholder:i("lesson.enterResponse"),value:a,rows:6})}),(0,r.jsx)(z.zx,{variant:"solid",isDisabled:0===(a||"").trim().length,onClick:h,children:i("common.submit")})]})]})})},Oe=t(46985),Pe=t.n(Oe),_e=function(e){var n=e.children;return(0,r.jsx)("div",{className:Pe().blocker,onClickCapture:function(e){e.stopPropagation(),e.preventDefault()},children:n})},Ee=(0,O.default)((function(){return Promise.all([t.e(4474),t.e(3751)]).then(t.bind(t,23751)).then((function(e){return e.CheckboxQuizAtom}))}),{loadableGenerated:{webpack:function(){return[23751]}},ssr:!1}),Ae=function(e){return(0,r.jsx)(ue.j,{defaultComponent:Ie,saComponent:Te,passthrough:e})},Ie=function(e){var n,t,i=e.atom,l=e.handleSubmit,a=e.isLoading,u=i.content.quizState.userState,c=(0,o.useState)(null!==(n=null===u||void 0===u?void 0:u.selected_ids)&&void 0!==n?n:[]),d=c[0],f=c[1],m=(0,o.useState)(null!==(t=null===u||void 0===u?void 0:u.is_correct)&&void 0!==t?t:null),v=m[0],p=m[1],h=(0,s.$)().t;return(0,o.useEffect)((function(){var e,n;f(null!==(e=null===u||void 0===u?void 0:u.selected_ids)&&void 0!==e?e:[]),p(null!==(n=null===u||void 0===u?void 0:u.is_correct)&&void 0!==n?n:null)}),[u]),(0,r.jsx)(Ee,{atom:{question:i.content},selectedIds:d,index:1,count:1,isCorrect:v,onAnswerChange:function(e){p(null),f(e)},submitLabel:h("common.submit"),submitButtonProps:{isLoading:a,onClick:function(){return l(i,{selectedIds:d})}}})},Te=function(e){var n,t,o=e.atom;return(0,r.jsx)(_e,{children:(0,r.jsx)(Ee,{atom:{question:o.content},selectedIds:null===o||void 0===o||null===(n=o.content)||void 0===n||null===(t=n.answers)||void 0===t?void 0:t.filter((function(e){return e.isCorrect})).map((function(e){var n=e.id;return null!==n&&void 0!==n?n:""})),index:1,count:1,isCorrect:!0})})},ze=function(e){var n,t=e.content,o=(0,s.$)().t;return(0,r.jsx)(u.xu,{p:4,border:"1px solid",borderColor:"gray.300",children:(0,r.jsx)("iframe",{title:o("lesson.embeddedCourseContent"),src:null!==(n=t.externalUri)&&void 0!==n?n:void 0,width:"100%",height:"37.5rem"})})},Fe=ze,Re=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),De=function(e){var n=e.content;return(0,r.jsxs)("section",{children:[(0,r.jsx)(u.kC,{justify:"center",children:(0,r.jsx)(fe.Ee,{src:null!==(ke=n.url)&&void 0!==ke?ke:void 0,alt:n.alt,w:"".concat(n.width,"px"),maxW:"100%",borderRadius:"base"})}),n.caption&&(0,r.jsx)(u.xu,{textAlign:"center",fontSize:"sm",children:(0,r.jsx)(Re,{markdownText:n.caption,showErrorBoundaryMessage:"true"===(0,B.H)("false")})})]})},Me=De,Ne=t(39693),qe=t.n(Ne),Ue=t(91966),Be=t.n(Ue),He=t(13311),Le=t.n(He),$e=t(27361),Xe=t.n($e),We=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),Ke=function(e){var n=e.index,t=void 0===n?null:n,o=e.count,i=void 0===o?null:o,l=e.text,a=void 0===l?"":l,c=e.headingId,d=(0,s.$)().t;return(0,r.jsxs)(u.xu,{p:"40px",lineHeight:1.8,borderBottom:"1px solid",borderBottomColor:"gray.300",children:[i&&t?(0,r.jsx)(u.X6,{id:c,size:"h5",as:"h3",mb:"10px",children:i>1?d("components.quizPrompt.titleMultiple",{index:t,nTotalQuestions:i}):d("components.quizPrompt.titleSingle")}):null,(0,r.jsx)(We,{markdownText:null!==a&&void 0!==a?a:"",showErrorBoundaryMessage:"true"===(0,B.H)("false")})]})},Ge=function(){return(0,o.useRef)(Math.floor(1e9*Math.random()).toString()).current},Qe=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),Ye=o.forwardRef((function(e,n){var t=e.label,o=e.index,i=e.rowIndex,l=e.conceptLabels,a=e.handleMenuMove,u=e.handleDrag,c=(0,s.$)().t;return(0,r.jsxs)(g.v2,{children:[(0,r.jsx)(g.j2,{as:z.zx,ref:n,"aria-label":c("lesson.dragItem.answerLabel",{numericalIndex:o+1,answerText:t}),draggable:"true",onDragStart:function(e){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("rowIndex",i.toString()),e.dataTransfer.setData("label",t),e.dataTransfer.setData("choiceIndex",o.toString()),u(!0)},onDragEnd:function(e){e.preventDefault(),u(!1)},"data-index":o,px:6,py:3,m:"0.313rem",w:"max-content",maxW:"full",h:"auto",whiteSpace:"normal",border:"3px solid transparent",outline:"2px solid transparent",_before:{"*":"unset"},_hover:{cursor:"grab",bgColor:"blue.700"},_focus:{cursor:"grab",border:"3px solid white",borderRadius:"sm",outline:"2px solid",outlineColor:"blue.500"},sx:{"> span":{pointerEvents:"auto"}},children:(0,r.jsx)(Qe,{markdownText:t,showErrorBoundaryMessage:"true"===(0,B.H)("false")})}),l&&(0,r.jsx)(g.qy,{children:l.map((function(e,n){return(0,r.jsx)(g.sN,{onClick:function(){return a(i,n,o)},children:e},"menuItem"+n)}))})]})}));Ye.displayName="AnswerChoice";var Ze=function(e){var n=e.children,t=(0,s.$)().t;return(0,r.jsx)(u.xu,{as:"section","aria-label":t("lesson.dropZone.accessibilityContext"),tabIndex:0,py:4,px:5,children:n})},Ve=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),Je=function(e){var n,t=e.index,i=e.label,s=e.dragStyles,l=e.handleDrag,a=e.answer,c=e.onDrop,d=e.conceptLabels,f=e.handleMenuMove,m=(0,o.useRef)(null);return(0,o.useEffect)((function(){m.current&&m.current.focus()}),[a]),(0,r.jsxs)(u.kC,{justify:"space-between",minH:"5.313rem",_odd:{bgColor:"gray.100"},children:[(0,r.jsx)(u.kC,{w:"50%",py:"0.938rem",px:5,borderEnd:"1px solid",borderEndColor:"gray.300",sx:{".ureact-markdown":{width:"100%"}},children:(0,r.jsx)(Ve,{markdownText:i,showErrorBoundaryMessage:"true"===(0,B.H)("false")})}),(0,r.jsx)(u.kC,{align:"center",w:"50%",as:"section","aria-label":i,sx:s,onDragOver:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="move"},onDragLeave:function(e){e.stopPropagation(),e.preventDefault()},onDrop:function(e){e.stopPropagation(),e.preventDefault(),c(e,t)},"data-index":t,minH:5,py:"0.938rem",px:5,children:a?(0,r.jsx)(Ye,{ref:m,index:a.index,label:null!==(n=a.text)&&void 0!==n?n:"",rowIndex:t,conceptLabels:d,handleMenuMove:f,handleDrag:l}):null})]},t)};function en(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){en(e,n,t[n])}))}return e}var tn=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1});var rn=function(e){return(0,r.jsx)(ue.j,{defaultComponent:on,saComponent:sn,passthrough:e})},on=function(e){var n,t,i,l,a,c,d,f,m,v=e.atom,p=e.handleSubmit,h=e.isLoading,b=(0,s.$)().t,x=v.content.quizState.userState,j=U()(Xe()(x,"answer_ids"),(function(e){return Le()(v.content.answers,{id:e})})),g=null===(n=v.content.concepts)||void 0===n?void 0:n.map((function(e){return null===e||void 0===e?void 0:e.text})),y=(null===(t=v.content.concepts)||void 0===t?void 0:t.length)?v.content.concepts.length:0,w=(0,o.useState)(j.map((function(e,n){return nn({},e,{index:n})}))),k=w[0],C=w[1],S=(0,o.useState)(Be()(v.content.answers,j).map((function(e,n){return nn({},e,{index:n})}))),O=S[0],P=S[1],_=(0,o.useState)(!1),E=_[0],A=_[1],I=function(e,n,t){var r=-1===e&&void 0!==t?O.find((function(e){return e.index===t})):k[e],o=k[n];if(r!==o){for(;k.length<=n;)k.push(null);var i=k.map((function(e,t){return t===n?r:e&&e.id===(null===r||void 0===r?void 0:r.id)?null:e}));if(C(i),-1!==e&&o&&O.push(nn({},o,{index:O.length})),-1===e&&void 0!==t){var s=O.findIndex((function(e){return e.index===t}));O.splice(s,1),o&&O.push(nn({},o,{index:O.length}))}P(O)}},T=function(e,n){I(Number(e.dataTransfer.getData("rowIndex")),n,Number(e.dataTransfer.getData("choiceIndex"))),A(!1)},F=Ge();return(null===x||void 0===x?void 0:x.isCorrect)?(0,r.jsx)(sn,{atom:v}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ge,{children:[(0,r.jsx)(Ke,{index:1,count:1,text:v.content.prompt,headingId:F}),(0,r.jsx)(Ze,{children:O.length?O.map((function(e){return(0,r.jsx)(Ye,{label:null!==(a=null===e||void 0===e?void 0:e.text)&&void 0!==a?a:"",index:null===e||void 0===e?void 0:e.index,rowIndex:-1,conceptLabels:g,handleMenuMove:I,handleDrag:A},null===e||void 0===e?void 0:e.id)})):(0,r.jsx)(u.kC,{justify:"center",children:(0,r.jsx)(u.xv,{color:"gray.700",mb:6,children:b("lesson.dropZone.submit")})})}),(0,r.jsxs)(u.kC,{justify:"space-around",alignItems:"center",children:[(0,r.jsx)(u.X6,{size:"h4",as:"h4",mt:"0.938rem",mb:2,children:v.content.conceptsLabel}),(0,r.jsx)(u.X6,{size:"h4",as:"h4",mt:"0.938rem",mb:2,children:v.content.answersLabel})]}),null===(i=v.content.concepts)||void 0===i?void 0:i.map((function(e,n){return(0,r.jsx)(Je,{label:null!==(c=null===e||void 0===e?void 0:e.text)&&void 0!==c?c:"",index:n,answer:k[n],dragStyles:E?{border:"2px dashed",borderColor:"blue.800",borderTop:0===n?"2px dashed":"2px solid",borderTopColor:0===n?"blue.800":"transparent",borderBottom:n===y-1?"2px dashed":"2px solid",borderBottomColor:n===y-1?"blue.800":"transparent"}:{border:"2px solid transparent"},handleDrag:A,onDrop:T,conceptLabels:g,handleMenuMove:I},n)}))]}),(0,r.jsx)(z.zx,{variant:"solid",disabled:(f=k,m=null!==(d=null===(l=v.content.concepts)||void 0===l?void 0:l.length)&&void 0!==d?d:0,qe()(f).length!==m),isLoading:h,onClick:function(){return p(v,{answerIds:U()(k,"id")})},"aria-describedby":F,children:b("common.submit")})]})},sn=function(e){var n=e.atom,t=(0,s.$)().t;return(0,r.jsxs)(ge,{children:[(0,r.jsx)(Ke,{index:1,count:1,text:n.content.prompt}),(0,r.jsxs)(u.xu,{py:8,px:10,children:[(0,r.jsx)(y.YJ9,{"aria-label":t("lesson.checkmark"),role:"img",w:10,h:10,color:"feedback.positive"})," ",t("lesson.correctMatches")]}),(0,r.jsxs)(u.kC,{justify:"space-around",align:"center",children:[(0,r.jsx)(u.X6,{size:"h4",as:"h4",mt:"0.938rem",mb:2,children:n.content.conceptsLabel}),(0,r.jsx)(u.X6,{size:"h4",as:"h4",mt:"0.938rem",mb:2,children:n.content.answersLabel})]}),(n.content.concepts||[]).map((function(e,n){var t;return(0,r.jsxs)(u.kC,{justify:"space-between",minH:"5.313rem",_odd:{bgColor:"gray.100"},sx:{".ureact-markdown":{width:"100%"}},children:[(0,r.jsx)(u.kC,{w:"50%",py:"0.938rem",px:5,borderEnd:"1px solid",borderEndColor:"gray.300",children:(0,r.jsx)(tn,{markdownText:null!==(t=null===e||void 0===e?void 0:e.text)&&void 0!==t?t:"",showErrorBoundaryMessage:"true"===(0,B.H)("false")})}),(0,r.jsx)(u.kC,{align:"center",w:"50%",p:4,children:(0,r.jsx)(u.xu,{color:"white",bgColor:"blue.800",w:"auto",p:"0.625rem",borderRadius:"base",border:"none",display:"inline-block",boxSizing:"border-box",children:(0,r.jsx)(tn,{markdownText:Xe()(e,"correct_answer.text"),showErrorBoundaryMessage:"true"===(0,B.H)("false")})})})]},n)}))]})},ln=function(){var e=(0,s.$)().t;return(0,r.jsxs)(u.kC,{bgColor:"accent.sky.100",p:8,borderRadius:"sm",children:[(0,r.jsx)(y.zVD,{w:8,h:8}),(0,r.jsx)(u.xv,{children:e("lesson.unsupportedAtom")})]})},an=t(11163);function un(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var cn=function(e){var n=e.Component,t=e.atom,i=e.answerUrl,s=function(){var e=(0,o.useState)(!1),n=e[0],t=e[1],r=(0,le.r)().lesson,i=se().submitUserInput,s=(0,ae.Z)(!0);if(null===s)return null;var l=null===r||void 0===r?void 0:r.id,a=s.id;return{isLoading:n,handleSubmit:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re.Grade,o=arguments.length>3?arguments[3]:void 0;t(!0);try{i({atom:e,userResponse:n,rootId:a,lessonId:l,operation:r,clientExecution:o})}finally{t(!1)}}}}();return null===s?null:(0,r.jsx)(n,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){un(e,n,t[n])}))}return e}({},s,{atom:t,answerUrl:i}))},dn=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),fn=function(e,n){var t=e.answer,o=t.video.youtubeId,i=t.text;return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(dn,{markdownText:i,showErrorBoundaryMessage:"true"===(0,B.H)("false")}),o&&(0,r.jsx)(xe.Y,{video:t.video,atomKey:n})]})},mn=(0,O.default)((function(){return Promise.all([t.e(4474),t.e(3751)]).then(t.bind(t,23751)).then((function(e){return e.TextAtom}))}),{loadableGenerated:{webpack:function(){return[23751]}},ssr:!1}),vn=function(e){var n=e.text;return(0,r.jsx)(u.xu,{className:"copy-length",children:(0,r.jsx)(mn,{text:n})})},pn=function(e){var n=e.prompt,t=n.video,o=n.text,i=e.atomKey;return t.youtubeId?(0,r.jsx)(xe.Y,{video:t,atomKey:i}):o?(0,r.jsx)(vn,{text:o}):null},hn=t(9562),bn=function(e){var n=e.instructionsUrl,t=e.quizUrl,o=(0,s.$)().t;return(0,r.jsxs)(u.kC,{justify:"space-between",alignItems:"center",children:[n&&(0,r.jsx)(hn.P,{href:n,children:o("lesson.viewIntro")}),t&&(0,r.jsx)(hn.P,{href:t,children:o("lesson.goToQuiz")})]})},xn=(0,O.default)((function(){return t.e(4915).then(t.t.bind(t,23085,23))}),{loadableGenerated:{webpack:function(){return[23085]}},ssr:!1}),jn=function(){var e={};return e.promise=new Promise((function(n,t){e.resolve=n,e.reject=t})),e},gn=function(e){return(0,r.jsx)(ue.j,{defaultComponent:yn,saComponent:ce.f,passthrough:e})},yn=function(e){var n=e.atom,t=e.atom.content,i=t.codeFiles,l=t.externalIframeUri,a=t.quizState,c=e.handleSubmit,d=e.answerUrl,f=(0,s.$)().t,m=(0,o.useState)(0),v=m[0],p=m[1],h=(0,o.useState)(null),b=h[0],x=h[1],j=(0,o.useState)(null),g=j[0],y=j[1],w=(0,o.useState)([]),k=w[0],C=w[1],S=(0,o.useRef)(null),O=(0,o.useCallback)((function(){var e=_()(i),n=[],t=a.userState;"object"===typeof t&&A()(t,(function(e,t){var r={name:t,text:e};"isCorrect"!==t&&"is_correct"!==t&&n.push(r)})),n.length&&T()(e,n),C(null!==e&&void 0!==e?e:[])}),[i,a.userState]);(0,o.useEffect)((function(){O()}),[O]);var P=function(e,n){var t=jn(),r=jn();return p(Date.now()),r.promise.then((function(){var t,r;null===(t=S.current)||void 0===t||null===(r=t.contentWindow)||void 0===r||r.postMessage(JSON.stringify({operation:e,parts:U()(n,(function(e,n){return{marker:n,content:e}})),messageType:"evaluate"}),"*")})),y(t),x(r),t.promise},E=(0,o.useCallback)((function(e){var n=function(e){try{return JSON.parse(e)}catch(n){return e}}(e.data);if("ready"===n.messageType&&b&&b.resolve(void 0),"execution"===n.messageType){var t=n.result.execution;g&&g.resolve(t)}}),[b,g]);(0,o.useEffect)((function(){return window.addEventListener("message",E,!1),function(){return window.removeEventListener("message",E)}}),[E]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(xn,{files:k,onChange:function(e){C(e)}}),(0,r.jsx)(u.xu,{mt:"1.875rem",border:"1px solid #d5d7d9",p:5,height:"25rem",children:(0,r.jsx)("iframe",{src:l||(0,B.H)("/api/classroom-content")+"/v1/quizzes/iframe/".concat(n.id),ref:S,title:f("lesson.codingQuizResult"),width:"100%",height:"100%"},v)}),(0,r.jsxs)(u.kC,{justify:"flex-end",children:[(0,r.jsx)(z.zx,{variant:"outline",onClick:function(){C(_()(null!==i&&void 0!==i?i:[]))},mt:4,ms:4,children:f("lesson.resetQuiz")}),(0,r.jsx)(z.zx,{variant:"outline",onClick:function(){var e=(0,F.Pc)(k);P(re.Test,e),c(n,e,re.Test)},mt:4,ms:4,children:f("lesson.testRun")}),d&&(0,r.jsx)(z.zx,{as:"a",href:d,variant:"outline",mt:4,ms:4,children:f("lesson.viewAnswer")}),(0,r.jsx)(z.zx,{variant:"solid",onClick:function(){var e=(0,F.Pc)(k);P(re.Grade,e).then((function(t){return c(n,e,re.Grade,t)}))},mt:4,ms:4,children:f("lesson.submitAnswer")})]})]})},wn=t(96486),kn=t.n(wn),Cn=t(40103),Sn=t(3370),On=t(97522),Pn=function(e){var n=e.widget,t=e.onWidgetChange,o=e.value;switch(n.model){case Z.j5.CHECKBOX:var i;return(0,r.jsx)(Cn.XZ,{id:"checkbox-".concat(n.marker),checked:!!o,value:null!==(i=n.marker)&&void 0!==i?i:void 0,onChange:function(e){return t(null===e||void 0===e?void 0:e.target.checked)}});case Z.j5.RADIO:var s;return(0,r.jsx)(Sn.Y8,{id:"radio-".concat(n.marker),name:null!==(s=n.group)&&void 0!==s?s:void 0,isChecked:!!o,onChange:function(e){return t(null===e||void 0===e?void 0:e.target.checked)}});case Z.j5.NUMERIC:case Z.j5.TEXT:var l,a,u,c;return n.is_text_area?(0,r.jsx)(je.g,{"aria-label":null!==(l=n.label)&&void 0!==l?l:void 0,id:"text-".concat(n.marker),name:null!==(a=n.marker)&&void 0!==a?a:void 0,value:o,rows:5,onChange:function(e){return t(null===e||void 0===e?void 0:e.target.value)}}):(0,r.jsx)(On.II,{"aria-label":null!==(u=n.label)&&void 0!==u?u:void 0,id:"text-".concat(n.marker),name:null!==(c=n.marker)&&void 0!==c?c:void 0,value:o,onChange:function(e){return t(null===e||void 0===e?void 0:e.target.value)}});default:var d,f;return(0,r.jsx)(On.II,{"aria-label":null!==(d=n.label)&&void 0!==d?d:void 0,id:"text-".concat(n.marker),name:null!==(f=n.marker)&&void 0!==f?f:void 0,value:o,onChange:function(e){return t(null===e||void 0===e?void 0:e.target.value)}})}},_n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"".concat(100*e+n,"%")},En=function(e){var n,t,o,i,s=e.children,l=e.placement,a=e.model,u=0;a!==Z.j5.CHECKBOX&&a!==Z.j5.RADIO||(u=-.85);var c={top:_n(null!==(n=null===l||void 0===l?void 0:l.y)&&void 0!==n?n:0,u),left:_n(null!==(t=null===l||void 0===l?void 0:l.x)&&void 0!==t?t:0,u),position:"absolute",width:_n(null!==(o=null===l||void 0===l?void 0:l.width)&&void 0!==o?o:0),height:_n(null!==(i=null===l||void 0===l?void 0:l.height)&&void 0!==i?i:0)};return(0,r.jsx)("div",{style:c,children:s})};function An(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function In(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){An(e,n,t[n])}))}return e}var Tn=function(e){return(0,r.jsx)(ue.j,{defaultComponent:zn,saComponent:ce.f,passthrough:e})},zn=function(e){var n=e.atom,t=e.atom.content,i=t.widgets,l=t.url,a=t.alt,c=t.quizState,d=e.handleSubmit,f=e.isLoading,m=e.answerUrl,v=(0,s.$)().t,p=(0,o.useState)({}),h=p[0],b=p[1],x=function(){return d(n,h)};return(0,o.useEffect)((function(){if("string"===typeof c.userState){var e=JSON.parse(c.userState);b(null!==e&&void 0!==e?e:{})}var n;"object"===typeof c.userState&&b(null!==(n=c.userState)&&void 0!==n?n:{})}),[c.userState]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{onKeyDown:function(e){"13"===e.key&&(e.preventDefault(),x())},children:(0,r.jsxs)(u.xu,{pos:"relative",children:[(0,r.jsx)(fe.Ee,{w:"full",maxH:"full",src:null!==l&&void 0!==l?l:void 0,alt:null!==a&&void 0!==a?a:void 0}),null===i||void 0===i?void 0:i.map((function(e){return e?(0,r.jsx)(En,{placement:e.placement,model:e.model,children:(0,r.jsx)(Pn,{widget:e,value:h[e.marker],onWidgetChange:function(n){return function(e,n){e.model===Z.j5.RADIO?b((function(t){return In({},t,kn()(i||[]).filter({group:e.group}).keyBy("marker").mapValues(kn().constant(!1)).value(),An({},e.marker,n))})):b((function(t){return In({},t,An({},e.marker,n))}))}(e,n)}},e.marker)},null===e||void 0===e?void 0:e.marker):null}))]})}),(0,r.jsxs)(u.kC,{justify:"flex-end",align:"center",children:[m&&(0,r.jsx)(z.zx,{as:"a",href:m,variant:"outline",mt:4,ms:4,children:v("lesson.viewAnswer")}),(0,r.jsx)(z.zx,{variant:"solid",onClick:function(){return Promise.resolve(x())},isLoading:f,mt:4,ms:4,children:v("lesson.submitAnswer")})]})]})};function Fn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Rn(e){return function(e){if(Array.isArray(e))return Fn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Fn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fn(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Dn=function(e,n){var t=Rn(n.pathname.split("/")).pop();return"quiz"!==t&&"answer"!==t&&"instructions"!==t?"".concat(n.asPath,"/").concat(e):n.asPath.replace(t,e)},Mn=function(e){var n,t,o=e.atom,i=e.atom.content,s=i.answer,l=i.prompt,a=(0,an.useRouter)(),u=!!(null===(n=l.video)||void 0===n?void 0:n.youtubeId)||!!l.text?Dn("instructions",a):void 0,c=Dn("quiz",a),d=s?Dn("answer",a):void 0,f=Rn(a.route.split("/")).pop();return"answer"===f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(fn,{answer:s,atomKey:o.key}),(0,r.jsx)(bn,{instructionsUrl:u,quizUrl:c})]}):"quiz"===f?(0,r.jsxs)(r.Fragment,{children:[(t=o,(0,Z.HB)(t)?(0,r.jsx)(cn,{Component:Tn,atom:t,answerUrl:d}):(0,Z.Dw)(t)?(0,r.jsx)(cn,{Component:gn,atom:t,answerUrl:d}):void 0),(0,r.jsx)(bn,{instructionsUrl:u})]}):"instructions"===f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(pn,{prompt:l,atomKey:o.key}),(0,r.jsx)(bn,{quizUrl:c})]}):(a.push(null!==u&&void 0!==u?u:c),null)};function Nn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function qn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Nn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Un=(0,O.default)((function(){return Promise.all([t.e(4474),t.e(3751)]).then(t.bind(t,23751)).then((function(e){return e.RadioQuizAtom}))}),{loadableGenerated:{webpack:function(){return[23751]}},ssr:!1}),Bn=function(e){return(0,r.jsx)(ue.j,{defaultComponent:Hn,saComponent:Ln,passthrough:e})},Hn=function(e){var n,t=e.atom,i=e.handleSubmit,l=e.isLoading,a=t.content.quizState.userState,u=(0,o.useState)(null===a||void 0===a?void 0:a.selected_id),c=u[0],d=u[1],f=(0,o.useState)(null!==(n=null===a||void 0===a?void 0:a.is_correct)&&void 0!==n?n:null),m=f[0],v=f[1],p=(0,s.$)().t;return(0,o.useEffect)((function(){var e;d(null===a||void 0===a?void 0:a.selected_id),v(null!==(e=null===a||void 0===a?void 0:a.is_correct)&&void 0!==e?e:null)}),[a]),(0,r.jsx)(Un,{atom:{question:t.content},selectedId:c,index:1,count:1,isCorrect:m,onAnswerChange:function(e){var n=qn(e,1)[0];v(null),d(n)},submitLabel:p("common.submit"),submitButtonProps:{isLoading:l,onClick:function(){return i(t,{selectedId:c})}}})},Ln=function(e){var n,t,o=e.atom,i=o.content.answers,s=null===(n=null===i||void 0===i?void 0:i.filter((function(e){return e.isCorrect})))||void 0===n||null===(t=n[0])||void 0===t?void 0:t.id;return(0,r.jsx)(_e,{children:(0,r.jsx)(Un,{atom:{question:o.content},selectedId:null!==s&&void 0!==s?s:void 0,index:1,count:1,isCorrect:!0})})},$n=t(71447),Xn=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),Wn=function(e){var n=e.answer,t=e.savedAnswer,o=e.onEdit,i=(0,s.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.kC,{justify:"space-between",alignItems:"center",flexWrap:"wrap",mt:"1.875rem",children:(0,r.jsx)(u.X6,{size:"h4",as:"h4",mb:6,children:i("lesson.yourReflection")})}),(0,r.jsxs)(u.kC,{justify:"space-between",alignItems:"flex-start",children:[(0,r.jsx)(u.xv,{mb:6,children:t}),(0,r.jsx)(z.hU,{icon:(0,r.jsx)(y.dY8,{w:8,h:8}),onClick:o,"aria-label":i("common.edit"),variant:"ghost",isRound:!0})]})]}),(0,r.jsx)(u.kC,{justify:"space-between",alignItems:"center",flexWrap:"wrap",mt:"1.875rem",children:(0,r.jsx)(u.X6,{size:"h4",as:"h4",mb:6,children:i("lesson.thingsToThinkAbout")})}),(0,r.jsx)(Xn,{markdownText:n,showErrorBoundaryMessage:"true"===(0,B.H)("false")})]})},Kn=function(e){var n=e.userAnswer,t=e.isSubmitDisabled,o=e.onSubmit,i=e.handleChange,l=e.submitDescribedBy,a=(0,s.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(je.g,{"aria-label":a("lesson.lab.reflection"),id:"reflect",value:n,onChange:i,placeholder:a("lesson.enterResponseHere"),required:!0,rows:5,mb:6}),(0,r.jsx)(z.zx,{variant:"solid",isDisabled:t,onClick:o,"aria-describedby":l,children:a("common.submit")})]})},Gn=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),Qn=function(e){var n,t,i=e.atom,s=e.handleSubmit,l=e.isLoading,a=i.content.quizState.userState,c=(0,o.useState)(null!==(n=null===a||void 0===a?void 0:a.answer)&&void 0!==n?n:""),d=c[0],f=c[1],m=(0,o.useState)(null!==(t=null===a||void 0===a?void 0:a.is_correct)&&void 0!==t?t:null),v=m[0],p=m[1],h=!!(null===a||void 0===a?void 0:a.answer),b=h&&v,x=!(0,F.fi)(d)||l,j=(0,$n.z)().track;(0,o.useEffect)((function(){var e,n;f(null!==(e=null===a||void 0===a?void 0:a.answer)&&void 0!==e?e:""),p(null!==(n=null===a||void 0===a?void 0:a.is_correct)&&void 0!==n?n:null)}),[a]);var g,w=Ge();return(0,r.jsx)(ge,{children:(0,r.jsxs)(u.xu,{p:"1.875rem",children:[(0,r.jsxs)(u.kC,{justify:"space-between",alignItems:"baseline",children:[(0,r.jsx)(u.X6,{id:w,size:"h3",as:"h3",mb:6,children:i.content.title}),h&&(0,r.jsx)(y.nQG,{color:"feedback.positive",w:8,h:8})]}),(0,r.jsx)(Gn,{markdownText:null!==(g=i.content.prompt)&&void 0!==g?g:"",showErrorBoundaryMessage:"true"===(0,B.H)("false")}),b&&i.content.answer?(0,r.jsx)(Wn,{answer:i.content.answer,savedAnswer:null===a||void 0===a?void 0:a.answer,onEdit:function(){var e;f(null!==(e=null===a||void 0===a?void 0:a.answer)&&void 0!==e?e:""),p(!1)}}):(0,r.jsx)(Kn,{userAnswer:d,isSubmitDisabled:x,handleChange:function(e){var n=e.target.value;n.length>=0&&f(n)},onSubmit:function(){j("Reflection Submitted",{atom_key:i.conceptKey,answer:d}),s(i,{answer:d,isCorrect:!0})}})]})})},Yn=t(40967);function Zn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Vn(e){return function(e){if(Array.isArray(e))return Zn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Zn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zn(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jn=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),et=function(e){var n,t=e.atom,i=e.handleSubmit,l=(0,s.$)().t,a=t.content.taskState.userState,c=(0,o.useState)(null!==(n=null===a||void 0===a?void 0:a.selected_ids)&&void 0!==n?n:[]),d=c[0],f=c[1];(0,o.useEffect)((function(){var e;f(null!==(e=null===a||void 0===a?void 0:a.selected_ids)&&void 0!==e?e:[])}),[a]);var m=!(!t.content.title&&!t.content.description),v=t.content.title?"title":t.content.description?"description":"defaultTitle";return(0,r.jsxs)(u.kC,{direction:m?"column":"row",px:8,py:6,border:"solid 1px",borderColor:"gray.300",role:"group","aria-labelledby":v,children:[(0,r.jsxs)(u.kC,{children:[(0,r.jsx)(fe.Ee,{src:"/assets/images/icons/light-paper-checklist.svg",alt:l("lesson.taskList"),minW:16,h:16}),(0,r.jsxs)("div",{children:[t.content.title&&(0,r.jsx)(u.X6,{as:"h3",fontSize:"xl",mb:2,id:"title",children:t.content.title}),t.content.description&&t.content.title&&(0,r.jsx)(Jn,{markdownText:t.content.description,showErrorBoundaryMessage:"true"===(0,B.H)("false")}),t.content.description&&!t.content.title&&(0,r.jsx)(Yn.lX,{fontWeight:"normal",id:"description",children:(0,r.jsx)(Jn,{markdownText:t.content.description,showErrorBoundaryMessage:"true"===(0,B.H)("false")})})]})]}),(0,r.jsx)(Cn.cO,{children:(0,r.jsxs)(u.Kq,{spacing:3,ms:m?"4.25rem":4,mt:m?3:0,children:[!m&&(0,r.jsx)(Yn.lX,{id:"defaultTitle",children:l("lesson.tasklistTitle")}),(t.content.tasks||[]).map((function(e,n){return(0,r.jsx)(Cn.XZ,{id:"".concat(t.id,"--").concat(n),defaultChecked:d.includes(n.toString()),onChange:function(e){return function(e,n){var r,o,s=e.target.checked?Vn(d).concat([n]):d.filter((function(e){return e!==n}));f(s),i(t,{selectedIds:s,isCorrect:(null===s||void 0===s?void 0:s.length)===(null===(r=t.content)||void 0===r||null===(o=r.tasks)||void 0===o?void 0:o.length)})}(e,n.toString())},wordBreak:"break-word",alignItems:"start",children:(0,r.jsx)(Jn,{markdownText:null!==e&&void 0!==e?e:"",showErrorBoundaryMessage:"true"===(0,B.H)("false")})},n)}))]})})]})},nt=function(e){var n=e.answer,t=e.onReset,o=(0,s.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{}),(0,r.jsxs)(u.kC,{justify:"space-between",mt:3,children:[(0,r.jsx)(u.xv,{color:"gray.900",children:n}),(0,r.jsx)(z.hU,{"aria-label":o("common.reset"),icon:(0,r.jsx)(y.dY8,{w:8,h:8}),onClick:t,isRound:!0,p:2})]})]})},tt=function(e){var n=e.label,t=e.answer,o=e.isSubmitDisabled,i=e.onChange,l=e.onSubmit,a=e.submitDescribedBy,u=(0,s.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(je.g,{"aria-label":n,onChange:i,placeholder:u("lesson.enterResponse"),value:t,rows:5,required:!0,mb:4}),(0,r.jsx)(z.zx,{variant:"solid",isDisabled:o,onClick:l,"aria-describedby":a,children:u("common.submit")})]})},rt=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),ot=function(e){return(0,r.jsx)(ue.j,{defaultComponent:it,saComponent:ce.f,passthrough:e})},it=function(e){var n,t,i,l=e.atom,a=e.handleSubmit,c=e.isLoading,d=(0,s.$)().t,f=l.content.quizState.userState,m=void 0!==(null===f||void 0===f?void 0:f.is_correct),v=!!(null===f||void 0===f?void 0:f.answer)&&""!==(null===f||void 0===f?void 0:f.answer),p=(0,o.useState)(null!==(n=null===f||void 0===f?void 0:f.answer)&&void 0!==n?n:""),h=p[0],b=p[1],x=(0,o.useState)(null!==(t=null===f||void 0===f?void 0:f.is_correct)&&void 0!==t?t:null),j=x[0],g=x[1],w=(0,o.useState)(null!==(i=v&&m)&&void 0!==i&&i),k=w[0],C=w[1],S=c||!(0,F.fi)(h);(0,o.useEffect)((function(){var e,n,t,r=void 0!==(null===f||void 0===f?void 0:f.is_correct),o=!!(null===f||void 0===f?void 0:f.answer)&&""!==(null===f||void 0===f?void 0:f.answer);b(null!==(e=null===f||void 0===f?void 0:f.answer)&&void 0!==e?e:""),g(null!==(n=null===f||void 0===f?void 0:f.is_correct)&&void 0!==n?n:null),C(null!==(t=o&&r)&&void 0!==t&&t)}),[f]);var O,P=Ge();return(0,r.jsx)(ge,{children:(0,r.jsxs)(u.xu,{p:"1.875rem",children:[(0,r.jsxs)(u.kC,{justify:"space-between",alignItems:"baseline",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u.X6,{id:P,size:"h1",as:"h1",mb:6,children:l.content.title}),(0,r.jsx)(rt,{markdownText:null!==(O=l.content.prompt)&&void 0!==O?O:"",showErrorBoundaryMessage:"true"===(0,B.H)("false")})]}),k&&(j?(0,r.jsx)(y.YJ9,{role:"img",color:"feedback.positive",w:8,h:8,"aria-label":d("lesson.quizResults.correct")}):(0,r.jsx)(y.rCs,{role:"img",color:"feedback.negative",w:8,h:8,"aria-label":d("lesson.quizResults.incorrect")}))]}),k?(0,r.jsx)(nt,{answer:h,onReset:function(){g(null),C(!1)}}):(0,r.jsx)(tt,{label:"".concat(l.content.title,"-").concat(l.content.prompt),answer:h,isSubmitDisabled:S,onSubmit:function(){a(l,{answer:h})},onChange:function(e){var n=e.target.value;n.length>=0&&b(n)},submitDescribedBy:P})]})})},st=t(2676),lt=function(e){var n=e.atom;return(0,Z.lQ)(n)?(0,r.jsx)(vn,{text:n.content.text}):(0,Z.RO)(n)?(0,r.jsx)(xe.Y,{video:n.content.video,atomKey:n.key}):(0,Z.IN)(n)?(0,r.jsx)(Me,{content:n.content}):(0,Z.yo)(n)?(0,r.jsx)(Fe,{content:n.content}):(0,Z.HB)(n)||(0,Z.Dw)(n)?(0,r.jsx)(Mn,{atom:n}):(0,Z.OH)(n)?(0,r.jsx)(cn,{Component:Ce,atom:n}):(0,Z.$h)(n)?(0,r.jsx)(cn,{Component:he,atom:n}):(0,Z.nO)(n)?(0,r.jsx)(cn,{Component:Bn,atom:n}):(0,Z.Xf)(n)?(0,r.jsx)(cn,{Component:Ae,atom:n}):(0,Z.Qy)(n)?(0,r.jsx)(cn,{Component:rn,atom:n}):(0,Z.q1)(n)?(0,r.jsx)(cn,{Component:ot,atom:n}):(0,Z.Q6)(n)?(0,r.jsx)(cn,{Component:Qn,atom:n}):(0,Z.oh)(n)?(0,r.jsx)(cn,{Component:et,atom:n}):(0,Z.bF)(n)?(0,r.jsx)(st.L,{atom:n}):(0,r.jsx)(ln,{})};function at(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ut(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return at(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return at(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ct=function(e){var n=e.atoms,t=ut(S()(n,(function(e){return e.semanticType===Z.Zl.WORKSPACE})),2),o=t[0],i=t[1],s=o[0]||{};return i.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xu,{mb:16,children:i.map((function(e){return(0,r.jsx)(lt,{atom:e},e.key)}))}),(0,r.jsx)(u.X6,{size:"h2",as:"h2",mb:4,children:"Workspace"}),(0,r.jsx)(u.kC,{border:"solid 1px",borderColor:"gray.300",rounded:"base",h:"90vh",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(lt,{atom:s},s.key)})]}):(0,r.jsx)(u.kC,{h:"90vh",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(lt,{atom:s},s.key)})},dt=t(92481),ft=t(44908),mt=t.n(ft),vt=t(58013),pt=t(91719),ht=t.n(pt),bt=function(){return(0,r.jsx)("div",{className:ht()["separator-row"],children:(0,r.jsx)("hr",{})})},xt=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1});var jt=function(e){var n=e.isOpen,t=e.onClose,o=e.feedback,i=(0,s.$)().t,l=function(e,n){if(void 0===(null===n||void 0===n?void 0:n.isCorrect))return e("lesson.output");if(null===n||void 0===n?void 0:n.isCorrect)return e("lesson.thanksForCompleting");if(!1===(null===n||void 0===n?void 0:n.isCorrect))return e("common.tryAgain");return e("common.thanks")}(i,o),a=function(e,n){return void 0===(null===n||void 0===n?void 0:n.isCorrect)||(null===n||void 0===n?void 0:n.isCorrect)?e("common.continue"):e("common.tryAgain")}(i,o),c=function(e){return void 0===(null===e||void 0===e?void 0:e.isCorrect)?"gray.900":(null===e||void 0===e?void 0:e.isCorrect)?"feedback.positive":"feedback.negative"}(o),d=Array.isArray(null===o||void 0===o?void 0:o.textFeedback)?null===o||void 0===o?void 0:o.textFeedback:[null===o||void 0===o?void 0:o.textFeedback],f=!!(null===o||void 0===o?void 0:o.textFeedback),m=void 0!==(null===o||void 0===o?void 0:o.isCorrect);return(0,r.jsx)(vt.u,{isOpen:n,onClose:t,ariaLabel:i("lesson.labComplete"),title:i("lesson.labComplete"),headerHidden:!0,children:(0,r.jsxs)(u.xu,{textAlign:"center",sx:{"& > :not(:last-child)":{marginBottom:"1.5rem"}},children:[(0,r.jsxs)(u.kC,{flexDir:"column",justify:"space-between",alignItems:"center",children:[m&&(0,r.jsx)(fe.Ee,{src:(null===o||void 0===o?void 0:o.isCorrect)?"/assets/images/icons/correct-illustration.svg":"/assets/images/icons/wrong-illustration.svg",alt:(null===o||void 0===o?void 0:o.isCorrect)?i("lesson.correctIllustration"):i("lesson.wrongIllustration"),w:"9.375rem",h:"9.375rem"}),(0,r.jsx)(u.xv,{color:c,mt:4,mb:2,fontWeight:"semibold",children:l})]}),(0,r.jsx)(bt,{}),!!(null===o||void 0===o?void 0:o.videoFeedback)&&(0,r.jsx)(u.xu,{m:"auto",transition:"all 0.1s ease-out",children:(0,r.jsx)(xe.Y,{video:null===o||void 0===o?void 0:o.videoFeedback})}),f&&(0,r.jsx)(xt,{markdownText:mt()(d).join("\n\n"),showErrorBoundaryMessage:"true"===(0,B.H)("false")}),!!(null===o||void 0===o?void 0:o.comment)&&(0,r.jsx)(xt,{markdownText:null===o||void 0===o?void 0:o.comment,showErrorBoundaryMessage:"true"===(0,B.H)("false")}),(0,r.jsx)(z.zx,{variant:"solid",onClick:t,children:a})]})})},gt=t(83014),yt=t(42012),wt=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),kt=function(e){var n,t=e.rubricId,o=e.projectTitle,i=e.handleNext,l=e.handlePrevious,a=(0,s.$)().t,c=(0,p.vZ)(t).data;return c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.P4,{gridColumn:"1 / -1",mb:10,children:(0,r.jsx)(u.X6,{size:"h1",as:"h1",children:a("projects.project",{projectTitle:null!==(n=c.projectTitle)&&void 0!==n?n:o})})}),c.sections.map((function(e,n){return(0,r.jsxs)(u.P4,{gridColumn:"1 / -1",mb:c.standOutSuggestions||n!==c.sections.length-1?10:"5rem",children:[(0,r.jsx)(u.X6,{size:"h2",mb:2,children:e.name}),(0,r.jsxs)(yt.iA,{w:"full",children:[(0,r.jsx)(yt.hr,{children:(0,r.jsxs)(yt.Tr,{children:[(0,r.jsx)(yt.Th,{w:"50%",children:a("projects.rubric.successCriteria")}),(0,r.jsx)(yt.Th,{w:"50%",children:a("projects.rubric.specifications")})]})}),(0,r.jsx)(yt.p3,{children:e.rubricItems.map((function(e){return(0,r.jsxs)(yt.Tr,{children:[(0,r.jsx)(yt.Td,{w:"50%",children:(0,r.jsx)(wt,{markdownText:e.criteria,showErrorBoundaryMessage:"true"===(0,B.H)("false")})}),(0,r.jsx)(yt.Td,{w:"50%",children:(0,r.jsx)(wt,{markdownText:e.specs,showErrorBoundaryMessage:"true"===(0,B.H)("false")})})]},e.id)}))})]})]},n)})),c.standOutSuggestions&&(0,r.jsx)(h._2,{p:10,minH:"unset",border:"1px solid",borderColor:"accent.sky.500",borderRadius:"base",mb:10,w:"full",gridColumn:"1 / -1",children:(0,r.jsxs)(u.P4,{gridColumn:{base:"1 / -1",md:"span 8"},children:[(0,r.jsx)(u.X6,{size:"h3",as:"h3",mb:4,children:a("projects.rubric.standOutSuggestions")}),(0,r.jsx)(wt,{markdownText:c.standOutSuggestions,showErrorBoundaryMessage:"true"===(0,B.H)("false")})]})}),(0,r.jsxs)(u.P4,{gridColumn:"1 / -1",children:[(0,r.jsx)(u.iz,{mb:10}),(0,r.jsxs)(u.kC,{gap:4,mb:4,align:"center",children:[l&&(0,r.jsx)(b.Q,{onClick:l}),i&&(0,r.jsx)(b.a,{onClick:i})]})]})]}):null},Ct=(t(74736),t(97375)),St=t(23855),Ot=t(68593),Pt=t(48125);function _t(e){return e?"https://www.udacity.com/course/".concat(e):"https://www.udacity.com/courses/all"}var Et=t(20682);function At(e,n,t,r,o,i,s){try{var l=e[i](s),a=l.value}catch(u){return void t(u)}l.done?n(a):Promise.resolve(a).then(r,o)}function It(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function s(e){At(i,r,o,s,l,"next",e)}function l(e){At(i,r,o,s,l,"throw",e)}s(void 0)}))}}function Tt(){return(Tt=It(D().mark((function e(n){var t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,H.Ps)("https://graphql.contentful.com/content/v1/spaces/2y9b3o528xhq/environments/master",'query LearnWeb_getProgramFromContentful {\n        pageNdopV0Collection(where: { key_in: ["'.concat(n,'"] }){\n          items {\n            key\n            slug\n          }\n        }\n      }'),{},{Authorization:"Bearer ".concat((0,B.H)("ct2yAhK-WnLIX6okaqx_6KCs-xd1sAR3yt1xRxMHQ0w"))});case 3:return t=e.sent,e.abrupt("return",t.data.pageNdopV0Collection);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var zt=function(){var e,n,t=(0,s.$)().t,i=(0,o.useState)(_t()),l=i[0],a=i[1],c=(0,Et.C)(),d=null!==(n=null===c||void 0===c||null===(e=c.program)||void 0===e?void 0:e.key)&&void 0!==n?n:null;return(0,o.useEffect)((function(){d&&function(e){return Tt.apply(this,arguments)}(d).then((function(e){var n,t=null===e||void 0===e||null===(n=e.items)||void 0===n?void 0:n[0].slug;a(_t(t))}))}),[d]),(0,r.jsxs)(Ot.bZ,{size:"md",status:"info",children:[(0,r.jsx)(u.xu,{className:"custom-icon",children:(0,r.jsx)(y.szr,{h:"32px",w:"32px"})}),(0,r.jsx)(Ot.X,{children:(0,r.jsxs)(u.Kq,{spacing:1,children:[(0,r.jsx)(u.xv,{children:t("lesson.staticAccessProjectMessage")}),(0,r.jsx)(u.rU,{href:"https://udacity.zendesk.com/hc/en-us/articles/360015665011-How-long-will-I-have-access-to-Nanodegree-program-content-after-I-graduate-",isExternal:!0,children:t("lesson.staticAccessLink")})]})}),(0,r.jsx)(Pt.b,{href:l,variant:"ghost",me:4,children:t("lesson.staticAccessButtonLabel")})]})},Ft=t(92098),Rt=t(90218),Dt=t(71913),Mt=t(25582),Nt=t(51919),qt=t(86363),Ut=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),Bt=function(e){var n=e.projectTitle,t=e.projectDueDate,i=e.projectDescription,l=e.rubricId,a=e.isCareer,c=e.isStaticAccess,d=e.projectWorkspace,f=e.handleNext,m=e.handlePrevious,v=(0,o.useState)(!1),h=v[0],x=v[1],j=(0,o.useState)(),g=j[0],y=j[1],w=(0,s.$)().t,k=(0,Rt.T)(),C=(0,Ct.qY)(),S=C.isOpen,O=C.onOpen,P=C.onClose,_=(0,Ct.qY)(),E=_.isOpen,A=_.onOpen,I=_.onClose,T=(0,p.vZ)(l).data,z=T&&T.uploadTypes.length>1||T&&1===T.uploadTypes.length&&!!d.atom,F=(0,Ft.zO)().isAfter(t),R=function(e){x(!0),y(e),O()};if(!T)return null;var D=function(){k(p.dv.util.invalidateTags([{type:"Reviews",id:"Submissions-".concat(T.id)}])),P()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",mb:10,gridColumn:"1 / -1",children:[(0,r.jsx)(u.X6,{size:"h1",as:"h1",mb:2,children:w("projects.project",{projectTitle:n})}),t&&(0,r.jsx)(u.Ct,{bgColor:"gray.100",border:"1px solid",borderColor:"accent.sky.500",display:"flex",alignItems:"center",w:"max-content",h:"max-content",children:w(F?"projects.pastDueOn":"projects.completionDue",{dueDate:(0,Ft.p6)(t)})})]}),c&&(0,r.jsx)(u.P4,{mb:12,gridColumn:{base:"1 / -1",lg:"span 10"},children:(0,r.jsx)(zt,{})}),(0,r.jsxs)(u.P4,{mb:"5rem",gridColumn:{base:"1 / -1",md:"span 8"},sx:{"> .ureact-markdown h1:first-of-type, h2:first-of-type, h3:first-of-type, h4:first-of-type":{marginTop:0}},children:[(0,r.jsx)(Ut,{markdownText:i,showErrorBoundaryMessage:"true"===(0,B.H)("false")}),h&&g&&(0,r.jsx)(Mt.C,{isOpen:S,onClose:function(){x(!1),y(void 0),P()}}),h&&!1===g&&(0,r.jsx)(Nt.Y,{isOpen:S,onClose:D,onNext:function(){f&&f(),k(p.dv.util.invalidateTags([{type:"Reviews",id:"Submissions-".concat(T.id)}])),P()}})]}),!c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.P4,{gridColumn:"1 / -1",children:[!z&&(0,Dt.nk)("zip",T)&&(0,r.jsx)(qt.vY,{rubric:T,isCareer:a,onSubmit:R}),!z&&(0,Dt.nk)("repo",T)&&(0,r.jsx)(qt.R3,{rubric:T,isCareer:a,onSubmit:R}),!z&&(0,Dt.nk)("link",T)&&(0,r.jsx)(qt.Yz,{rubric:T,isCareer:a,onSubmit:R}),!z&&(0,Dt.nk)("file",T)&&(0,r.jsx)(qt.dO,{rubric:T,isCareer:a,onSubmit:R}),!z&&d.atom&&(0,r.jsx)(qt.Eg,{workspaceAtom:d.atom,workspaceConceptId:d.conceptId,onSubmissionSuccess:D})]}),z&&(0,r.jsx)(qt.VP,{rubric:T,isCareer:a,projectWorkspace:d,onSubmissionSuccess:D,onSubmit:R})]}),(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",gridColumn:"1 / -1",alignSelf:"end",children:[(0,r.jsx)(u.iz,{mb:10}),(0,r.jsxs)(u.kC,{gap:4,mb:4,align:"center",children:[m&&(0,r.jsx)(b.Q,{onClick:m}),f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.a,{onClick:A}),(0,r.jsx)(St.a,{isOpen:E,onClose:I,ariaLabel:w("projects.submit.continueToNextLesson?"),title:w("projects.submit.continueToNextLesson?"),actionButtonLabel:w("projects.submit.goToNextLesson"),onClickAction:f,children:w("projects.submit.youHaventFinished")})]})]}),!c&&(0,r.jsx)(u.xv,{children:w("projects.youMayReturn")})]})]})},Ht=t(9493),Lt=t(73562),$t=t(65610);function Xt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Wt(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Xt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xt(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kt=function(e){var n=e.isOpen,t=e.onClose,i=e.submissionId,l=e.rubricId,a=(0,s.$)().t,c=Wt((0,p.SH)(),2),d=c[0],f=c[1],m=f.isError,v=f.isSuccess,h=(0,o.useMemo)((function(){return m?"error":v?"success":"unsubmitted"}),[m,v]),b=a("success"===h?"projects.submissionCanceled":"error"===h?"projects.errorCanceling":"projects.areYouSure");return(0,r.jsx)(vt.u,{isOpen:n,onClose:t,title:b,headerGlyph:"unsubmitted"===h?void 0:"error"===h?"alert-one.svg":"checkmark-checkmark-two.svg",footer:"unsubmitted"===h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.zx,{onClick:function(){i&&l&&d({rubricId:l,submissionId:i})},children:a("projects.yesCancel")}),(0,r.jsx)(z.zx,{variant:"outline",onClick:t,children:a("projects.noKeep")})]}):null,footerStyles:{gap:6},children:"unsubmitted"===h?(0,r.jsxs)(u.kC,{direction:"column",children:[(0,r.jsx)(u.xv,{children:a("projects.cancelProjectSubmission")}),(0,r.jsx)(u.xv,{children:a("projects.youMayResubmit")})]}):(0,r.jsxs)(u.kC,{direction:"column",children:[(0,r.jsx)(u.xv,{children:a("error"===h?"projects.couldNotCancel":"projects.noLongerReviewed")}),"error"===h&&(0,r.jsx)(u.xv,{children:a("projects.ifStillInCancelWindow")})]})})},Gt=t(24021),Qt=t(10034),Yt=function(e){var n=e.annotationsUrl,t=(0,s.$)().t;return(0,r.jsx)(h._2,{px:0,py:0,children:(0,r.jsx)(u.P4,{gridColumn:{base:"1 / -1",md:"span 8"},children:(0,r.jsxs)(u.kC,{gap:4,bgColor:"accent.sky.100",p:8,borderBottomEndRadius:"xl",children:[(0,r.jsx)(y._8t,{w:6,h:6}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.xv,{mb:2,children:t("projects.reviewerProvidedAnnotations")}),(0,r.jsx)(u.rU,{href:n,isExternal:!0,children:t("projects.downloadFile")})]})]})})})},Zt=t(4218),Vt=t(73935),Jt=t(78120),er=t(47421),nr=t(95477),tr=t(70752),rr=t(68344),or=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),ir=function(e){var n=e.category,t=e.lineNumber,i=e.comment,l=(0,s.$)().t,a=(0,o.useMemo)((function(){return"awesome"===n?{label:l("projects.comments.great"),bgColor:"feedback.positive"}:"nitpick"===n?{label:l("projects.comments.couldImprove"),bgColor:"accent.sky.500"}:"critical"===n?{label:l("projects.comments.didNotPass"),bgColor:"feedback.negative"}:void 0}),[n,l]);return(0,r.jsxs)(u.kC,{direction:"column",gap:2,mt:4,p:6,bgColor:"white",borderBottomEndRadius:"xl",w:"50%",maxW:"42rem",fontFamily:"body",color:"black",children:[(0,r.jsxs)(u.kC,{direction:{base:"column",md:"row"},align:{base:"start",md:"center"},gap:4,children:[a&&(0,r.jsx)(u.Ct,{bgColor:a.bgColor,color:"white",fontFamily:"body",children:a.label}),(0,r.jsx)(u.xv,{size:"label",color:"black",fontFamily:"body",children:l("projects.comments.line",{lineNumber:t})})]}),(0,r.jsx)(or,{markdownText:i,showErrorBoundaryMessage:"true"===(0,B.H)("false")})]})},sr=t(48764).Buffer;function lr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e){return ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ar(e)}function ur(e,n){return!n||"object"!==dr(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function cr(e,n){return cr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},cr(e,n)}var dr=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fr(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=ar(e);if(n){var o=ar(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ur(this,t)}}var mr=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&cr(e,n)}(i,e);var n,t,r,o=fr(i);function i(e){var n,t=e.id,r=e.category,s=e.body,l=e.lineNumber;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).id=t,n.category=r,n.body=s,n.lineNumber=l,n}return n=i,(t=[{key:"eq",value:function(e){return this.lineNumber===e.lineNumber&&this.id===e.id}},{key:"toDOM",value:function(){var e="comment-wrapper-"+this.id+this.lineNumber,n=document.getElementById(e);if(!n){var t=document.createElement("div");return t.setAttribute("id",e),t}return n}}])&&lr(n.prototype,t),r&&lr(n,r),i}(er.l9),vr=function(e){var n=function(n){var t;null===(t=Array.from(null===document||void 0===document?void 0:document.getElementsByClassName("cm-content")))||void 0===t||t.forEach((function(e){e.setAttribute("aria-label","file contents")}));var r=[];return n.doc.toJSON().forEach((function(t,o){var i,s=o+1,l=null===e||void 0===e?void 0:e.find((function(e){return e.lineNumber===s}));l&&r.push((i={id:l.id,category:l.category,body:l.body,lineNumber:l.lineNumber},er.p.widget({widget:new mr(i)})).range(n.doc.line(s).to))})),r.length>0?er.p.set(r):er.p.none};return[Jt.QQ.define({create:function(e){return n(e)},update:function(e,t){return t.docChanged?n(t.state):e.map(t.changes)},provide:function(e){return er.tk.decorations.from(e)}})]},pr=function(e){var n,t=e.file,i=(0,o.useState)(0),s=i[0],l=i[1],a=(0,o.useState)(0),c=a[0],d=a[1],f=(0,p.F8)(t.blob).data,m=(0,p.LK)(t.id,{skip:!(null===t||void 0===t?void 0:t.commentsCount)}).data,v=(0,o.useMemo)((function(){var e=(0,Dt.mD)(t.path);return e?(0,Dt.VQ)(e):"shell"}),[t.path]);return f?(0,r.jsx)(Zt.Qd,{children:function(e){var o=e.isExpanded;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{children:(0,r.jsxs)(Zt.KF,{children:[(0,r.jsxs)(u.kC,{grow:1,gap:4,align:"center",as:"span",children:[t.commentsCount>0&&(0,r.jsx)(u.kC,{justify:"center",align:"center",bgColor:"accent.sky.500",borderRadius:"0.75rem",w:6,h:6,children:(0,r.jsx)(u.xv,{fontSize:"xs",color:"white",fontWeight:"bold",children:t.commentsCount})}),(0,r.jsx)(u.xv,{size:"label",children:t.path})]}),(0,r.jsx)(Zt.XE,{ms:4})]})}),(0,r.jsxs)(Zt.Hk,{p:"2rem 2rem 2rem 3.75rem",children:[(0,r.jsx)(rr.ZP,{id:"code-editor-".concat(t.id),value:sr.from(f,"base64").toString("ascii"),extensions:[null!==(n=(0,nr.vf)(v))&&void 0!==n?n:[],vr(m)],theme:tr.Pc,editable:!1,readOnly:!0,onUpdate:function(e){var n,t,r=null===(n=e.view.visibleRanges[0])||void 0===n?void 0:n.from,o=e.view.state.doc.lineAt(r),i=null===(t=e.view.visibleRanges[0])||void 0===t?void 0:t.to,s=e.view.state.doc.lineAt(i);l(o.number),d(s.number)}}),o&&(0,r.jsx)(hr,{comments:m,visibleRangeStart:s,visibleRangeEnd:c})]})]})}}):null},hr=function(e){var n=e.comments,t=e.visibleRangeStart,o=e.visibleRangeEnd;return(0,r.jsx)(r.Fragment,{children:!!n&&n.map((function(e){var n,i="comment-wrapper-".concat(e.id).concat(e.lineNumber);return!(null===document||void 0===document?void 0:document.getElementById(i))||e.lineNumber<t||e.lineNumber>o?null:(0,r.jsx)(br,{wrapperElement:null!==(n=null===document||void 0===document?void 0:document.getElementById(i))&&void 0!==n?n:void 0,comment:e},e.id)}))})},br=function(e){var n=e.wrapperElement,t=e.comment,o=t.category,i=t.lineNumber,s=t.body;return n?Vt.createPortal((0,r.jsx)(ir,{category:o,lineNumber:i,comment:s}),n):null},xr=function(e){var n=e.files,t=(0,s.$)().t,o=n.reduce((function(e,n){return e+n.commentsCount}),0);return(0,r.jsxs)(h._2,{px:0,py:0,children:[o>0&&(0,r.jsx)(u.P4,{gridColumn:{base:"1 / -1",md:"span 8"},mb:6,children:(0,r.jsx)(Lt.b,{status:"info",children:t("projects.comments",{count:o})})}),(0,r.jsx)(u.P4,{gridColumn:"1 / -1",children:(0,r.jsx)(Zt.UQ,{allowToggle:!0,children:n.map((function(e){return(0,r.jsx)(pr,{file:e},e.id)}))})})]})},jr=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),gr=function(e){var n=e.name,t=e.items,o=(0,s.$)().t;return(0,r.jsxs)(u.kC,{direction:"column",mb:10,_last:{mb:0},children:[(0,r.jsx)(u.X6,{size:"h4",as:"h3",mb:4,children:n}),(0,r.jsx)(Zt.UQ,{allowToggle:!0,children:t.map((function(e,n){return(0,r.jsxs)(Zt.Qd,{children:[(0,r.jsx)("h4",{children:(0,r.jsxs)(Zt.KF,{children:[(0,r.jsxs)(u.kC,{grow:1,gap:4,align:"center",as:"span",children:[e.didPass?(0,r.jsx)(y.YJ9,{w:8,h:8,color:"feedback.positive"}):(0,r.jsx)(y.FBB,{w:8,h:8,color:"feedback.negative"}),(0,r.jsx)(jr,{markdownText:e.criteria,showErrorBoundaryMessage:"true"===(0,B.H)("false")})]}),(0,r.jsx)(Zt.XE,{ms:4})]})}),(0,r.jsxs)(Zt.Hk,{p:"2rem 2rem 2rem 3.75rem",children:[e.note&&(0,r.jsxs)(u.kC,{direction:"column",bgColor:"gray.100",borderRadius:"base",borderBottomEndRadius:"xl",p:8,mb:4,children:[(0,r.jsx)(u.xv,{size:"label",mb:2,children:o("projects.reviewerNote")}),(0,r.jsx)(jr,{markdownText:e.note,showErrorBoundaryMessage:"true"===(0,B.H)("false")})]}),(0,r.jsx)(jr,{markdownText:e.description,showErrorBoundaryMessage:"true"===(0,B.H)("false")})]})]},n)}))})]})},yr=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),wr=function(e){var n=e.reviewerNote,t=e.critiques,o=(0,s.$)().t,i=t.filter((function(e){return"failed"===e.result})).length,l=(0,Dt.OY)(t);return(0,r.jsxs)(h._2,{px:0,py:0,children:[0!==i&&(0,r.jsx)(u.P4,{gridColumn:{base:"1 / -1",md:"span 8"},mb:6,children:(0,r.jsx)(Lt.b,{status:"info",children:o("projects.requireChanges",{count:i})})}),n&&(0,r.jsxs)(u.P4,{gridColumn:{base:"1 / -1",md:"span 8"},mb:10,children:[(0,r.jsx)(u.X6,{size:"h4",as:"h3",mb:2,children:o("projects.reviewerNote")}),(0,r.jsx)(u.kC,{p:8,bgColor:"gray.100",borderRadius:"base",borderBottomEndRadius:"xl",children:(0,r.jsx)(yr,{markdownText:n,showErrorBoundaryMessage:"true"===(0,B.H)("false")})})]}),(0,r.jsx)(u.P4,{gridColumn:"1 / -1",children:Object.keys(l).map((function(e,n){return(0,r.jsx)(gr,{name:e,items:l[e]},n)}))})]})},kr=function(e){var n=e.submission,t=(0,s.$)().t,o=(0,p.Mt)(n.id),i=o.data,l=o.isFetching,a=(0,p.No)(n.id),d=a.data,f=a.isFetching;return l||f?(0,r.jsx)(u.P4,{display:"flex",flexDir:"column",alignItems:"center",mb:"5rem",gridColumn:"1 / -1",children:(0,r.jsx)(c.$,{})}):i||d||n.annotationsUrl?(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",mb:"5rem",gridColumn:"1 / -1",children:[(0,r.jsx)(u.X6,{size:"h2",mb:4,children:t("projects.feedbackDetails")}),(0,r.jsxs)(Gt.mQ,{children:[(0,r.jsxs)(Gt.td,{children:[i&&(0,r.jsxs)(Qt.O,{trackingEventName:"Project Submission Specification Review Clicked",ctaTextEn:t("projects.specificationReview",{lng:"en-US"}),children:[n.status===$t.Pd.HAS_FEEDBACK&&(0,r.jsx)(y.aNP,{w:6,h:6})," ",t("projects.specificationReview")]}),!!(null===d||void 0===d?void 0:d.length)&&(0,r.jsxs)(Qt.O,{trackingEventName:"Project Submission Code Review Clicked",ctaTextEn:t("projects.codeReview",{lng:"en-US"}),children:[n.status===$t.Pd.HAS_FEEDBACK&&(0,r.jsx)(y.aNP,{w:6,h:6})," ",t("projects.codeReview")]}),!!n.annotationsUrl&&(0,r.jsx)(Qt.O,{trackingEventName:"Project Submission Annotations Clicked",ctaTextEn:t("projects.annotations",{lng:"en-US"}),children:t("projects.annotations")})]}),(0,r.jsxs)(Gt.nP,{children:[i&&(0,r.jsx)(Gt.x4,{p:0,pt:6,children:(0,r.jsx)(wr,{critiques:i,reviewerNote:n.reviewerComment})}),!!(null===d||void 0===d?void 0:d.length)&&(0,r.jsx)(Gt.x4,{p:0,pt:6,children:(0,r.jsx)(xr,{files:d})}),!!n.annotationsUrl&&(0,r.jsx)(Gt.x4,{p:0,pt:6,children:(0,r.jsx)(Yt,{annotationsUrl:n.annotationsUrl})})]})]})]}):null},Cr=t(7403),Sr=function(e){var n=e.rating,t=e.onClick,i=(0,o.useState)(null),l=i[0],a=i[1],c=(0,s.$)().t,d=null===l?n:l,f=[{number:1,title:c("projects.ratings.needsImprovement")},{number:3,title:c("projects.ratings.okay")},{number:5,title:c("projects.ratings.great")}],m=function(e){a(e)};return(0,r.jsx)(u.kC,{role:"group",gap:2,onMouseLeave:function(){a(null)},children:f.map((function(e){var n=!!d&&d>=e.number,o=null===l?"accent.sea-foam.600":"black";return(0,r.jsx)(u.xu,{onFocus:function(){return m(e.number)},onMouseOver:function(){return m(e.number)},children:(0,r.jsx)(Cr.u,{label:e.title,children:(0,r.jsx)(z.hU,{"aria-label":e.title,variant:"ghost",onClick:function(){return t(e.number)},icon:n?(0,r.jsx)(y.VGR,{color:o,w:8,h:8,role:"img","aria-label":"star full"}):(0,r.jsx)(y.WBf,{color:"black",w:8,h:8,role:"img","aria-label":"star empty"}),height:8,_hover:{bg:"transparent",boxShadow:"none"},_active:{bg:"transparent",boxShadow:"none"},_focus:{bg:"transparent",boxShadow:"none"}})})},e.number)}))})},Or=function(e){var n=e.label,t=e.rating,o=e.onClick;return(0,r.jsxs)(Yn.NI,{children:[(0,r.jsx)(Yn.lX,{mb:2,children:n}),(0,r.jsx)(Sr,{rating:t,onClick:o})]})};function Pr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Er(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){_r(e,n,t[n])}))}return e}function Ar(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Pr(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pr(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ir=function(e){var n=e.showProjectRating,t=e.submissionId,i=(0,o.useState)(!1),l=i[0],a=i[1],c=(0,o.useState)(null),d=c[0],f=c[1],m=(0,o.useState)(""),v=m[0],b=m[1],x=(0,o.useState)({clear:null,professional:null,detailed:null,personalized:null,useful:null}),j=x[0],g=x[1],y=(0,s.$)().t,w=(0,o.useMemo)((function(){return n&&!d||Object.values(j).some((function(e){return null===e}))}),[n,d,j]),k=Ar((0,p.S1)(),1)[0],C=Ar((0,p.kb)(),1)[0];return(0,r.jsx)(h._2,{px:0,py:0,mb:10,w:"full",children:(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",gap:4,gridColumn:{base:"1 / -1",md:"span 8"},children:[(0,r.jsxs)(u.kC,{gap:2,children:[(0,r.jsx)(fe.Ee,{src:"/assets/images/icons/stars.svg",alt:"",w:8,h:8}),(0,r.jsx)(u.X6,{size:"h3",as:"h3",children:y("projects.ratings.rate&Review")})]}),(0,r.jsx)(u.xu,{px:4,py:3,border:"2px solid",borderColor:"gray.200",borderRadius:"base",children:l?(0,r.jsxs)(u.kC,{direction:"column",gap:4,children:[(0,r.jsx)(u.xv,{size:"label",children:y("projects.ratings.thankYou")}),(0,r.jsx)(u.xv,{children:y("projects.ratings.yourFeedback")})]}):(0,r.jsxs)("form",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,r.jsx)(Or,{label:y("projects.ratings.howClear"),rating:j.clear,onClick:function(e){g((function(n){return Er({},n,{clear:e})}))}}),j.clear&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Or,{label:y("projects.ratings.howProfessional"),rating:j.professional,onClick:function(e){g((function(n){return Er({},n,{professional:e})}))}}),(0,r.jsx)(Or,{label:y("projects.ratings.howDetailed"),rating:j.detailed,onClick:function(e){g((function(n){return Er({},n,{detailed:e})}))}}),(0,r.jsx)(Or,{label:y("projects.ratings.howPersonalized"),rating:j.personalized,onClick:function(e){g((function(n){return Er({},n,{personalized:e})}))}}),(0,r.jsx)(Or,{label:y("projects.ratings.howUseful"),rating:j.useful,onClick:function(e){g((function(n){return Er({},n,{useful:e})}))}}),n&&(0,r.jsx)(Or,{label:y("projects.ratings.howWasProject"),rating:d,onClick:function(e){return f(e)}}),(0,r.jsxs)(Yn.NI,{children:[(0,r.jsx)(Yn.lX,{mb:2,children:y("projects.ratings.howCanWeImprove")}),(0,r.jsx)(je.g,{value:v,onChange:function(e){return b(e.target.value)},rows:6})]}),(0,r.jsxs)(u.kC,{gap:6,children:[(0,r.jsx)(z.zx,{variant:"outline",onClick:function(){return f(null)},children:y("common.cancel")}),(0,r.jsx)(z.zx,{isDisabled:w,onClick:function(){var e={responses:{feedback:[{key:"review_clarity",rating:j.clear,comment:v,question_text:y("projects.ratings.howClear",{lng:"en-US"})},{key:"review_unbiased",rating:j.professional,comment:v,question_text:y("projects.ratings.howProfessional",{lng:"en-US"})},{key:"review_detail",rating:j.detailed,comment:v,question_text:y("projects.ratings.howDetailed",{lng:"en-US"})},{key:"review_personal",rating:j.personalized,comment:v,question_text:y("projects.ratings.howPersonalized",{lng:"en-US"})},{key:"review_use",rating:j.useful,comment:v,question_text:y("projects.ratings.howUseful",{lng:"en-US"})}],version:"1.0.0"},submissionId:t};if(k(e),d){var n={responses:{feedback:[{key:"project_overall",rating:d,comment:v,question_text:y("projects.ratings.howWasProject",{lng:"en-US"})}],version:"1.0.0"},submission_id:t};C(n)}a(!0)},children:y("common.submit")})]})]})]})})]})})},Tr=t(4821),zr=t(37314),Fr=function(e){var n=e.submissions,t=e.handleShowSubmission,i=(0,o.useState)({value:null,label:null}),l=i[0],a=i[1],c=n.map((function(e){return{value:e.createdAt,label:(0,Ft.p6)(e.createdAt)}})),d=(0,s.$)().t;return(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",mb:"5rem",gridColumn:{base:"1 / -1",md:"span 5"},children:[(0,r.jsx)(u.X6,{size:"h2",mb:4,children:d("projects.submissionHistory")}),(0,r.jsxs)(Yn.NI,{children:[(0,r.jsx)(Yn.lX,{fontWeight:"normal",color:"gray.700",mb:2,children:d("projects.chooseDifferentSubmission")}),(0,r.jsx)(Tr.Z,{chakraStyles:(0,zr.AP)(),value:l,options:c,onChange:function(e){if(e){a(e);var r=n.findIndex((function(n){return n.createdAt===e.value}));t(n[r])}}})]})]})},Rr=t(59251),Dr=t(69549),Mr=t(80099),Nr=function(e){var n=e.isOpen,t=e.onClose,o=e.plagiarismCaseId,i=e.plagiarismCaseStatus,l=(0,s.$)().t;return(0,r.jsx)(vt.u,{title:"SUCCESSFUL"===i?l("plagiarism.caseCreated",{caseId:String(o)}):l("common.requestFailed"),headerGlyph:"SUCCESSFUL"===i?"checkmark-checkmark-two.svg":"alert-one.svg",isOpen:n,onClose:t,children:(0,r.jsx)(u.kC,{direction:"column",children:"SUCCESSFUL"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xv,{children:l("plagiarism.inReview")}),(0,r.jsx)(u.xv,{children:l("plagiarism.caseDecision")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xv,{children:l("plagiarism.error")}),(0,r.jsx)(u.xv,{children:(0,r.jsxs)(Rr.c,{i18nKey:"plagiarism.pleaseWait",children:["_",(0,r.jsx)(u.rU,{href:"https://udacitymentorops.zendesk.com/hc/en-us/requests/new",isExternal:!0,children:"_"})]})})]})})})};function qr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ur(e,n,t,r,o,i,s){try{var l=e[i](s),a=l.value}catch(u){return void t(u)}l.done?n(a):Promise.resolve(a).then(r,o)}function Br(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return qr(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qr(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hr=(0,O.default)((function(){return Promise.resolve().then(t.bind(t,99229)).then((function(e){return e.Markdown}))}),{loadableGenerated:{webpack:function(){return[99229]}},ssr:!1}),Lr=function(e){var n=e.submissionDate,t=e.submissionStatus,i=e.archiveUrl,l=e.ungradeableComment,a=e.plagiarismSourceUrl,c=e.handleCancel,d=e.isPrevFailedSubmission,f=(0,o.useState)(),m=f[0],v=f[1],h=(0,o.useState)($t.yv.UNREQUESTED),b=h[0],j=h[1],g=(0,Ct.qY)(),y=g.isOpen,w=g.onClose,k=g.onOpen,C=(0,Ct.qY)(),S=C.isOpen,O=C.onClose,P=C.onOpen,_=(0,s.$)().t,E=(0,an.useRouter)().asPath,A=(0,o.useMemo)((function(){return E.includes("submit-project")?"".concat(E,"/resubmit-project"):E}),[E]),I=(0,p.fX)().data,T=Br((0,p.Nv)(),1)[0],F=t===$t.Pd.PASSED,R=t===$t.Pd.CAN_CANCEL||t===$t.Pd.IN_REVIEW,M=t===$t.Pd.ERRED,N=t===$t.Pd.PLAGIARISM,q=t===$t.Pd.UNGRADEABLE,U=t===$t.Pd.HAS_FEEDBACK||N||q||M,B=R?"info":t===$t.Pd.PASSED?"success":"error",H=(0,o.useMemo)((function(){return _(R?"projects.inReview":F?"projects.passed":N?"projects.plagiarismSuspected":q?"projects.unableToReview":M?"projects.erred":"projects.didNotPass")}),[F,M,R,N,q,_]),L=(0,Dr.B)().enrollments,$=(0,o.useMemo)((function(){return{enterprise:(null!==I&&void 0!==I?I:[]).filter((function(e){var n,t=L.find((function(n){return void 0!=(null===n||void 0===n?void 0:n.id)&&n.id===e.enrollmentId}));return!!(null===t||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.is_enterprise)})),other:(null!==I&&void 0!==I?I:[]).filter((function(e){var n,t=L.find((function(n){return void 0!=(null===n||void 0===n?void 0:n.id)&&n.id===e.enrollmentId}));return!(null===t||void 0===t||null===(n=t.attributes)||void 0===n?void 0:n.is_enterprise)}))}}),[I,L]),X=function(){var e,n=(e=D().mark((function e(){var n,t;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j($t.yv.LOADING),e.prev=1,null===I||void 0===I||null===(n=I[0])||void 0===n?void 0:n.id){e.next=5;break}throw new Error("Issue fetching demerited submissions");case 5:return e.next=7,T(I[0].id).unwrap();case 7:t=e.sent,v(t),j($t.yv.SUCCESSFUL),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),j($t.yv.ERRORED);case 15:k();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function s(e){Ur(i,r,o,s,l,"next",e)}function l(e){Ur(i,r,o,s,l,"throw",e)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();return N&&($.enterprise.length>=$t.m1||$.other.length>=$t.Fr)?(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",mb:"5rem",gridColumn:{base:"1 / -1",md:"span 8"},children:[(0,r.jsx)(u.X6,{size:"h2",mb:4,children:_("projects.submissionResults")}),(0,r.jsx)(u.xv,{mb:2,children:_("projects.submissionDate",{date:(0,Ft.p6)(n)})}),(0,r.jsx)(Lt.b,{status:"error",mb:10,children:_("projects.plagiarismSuspected")}),(0,r.jsx)(u.xv,{mb:6,children:_("projects.flaggedForPlagiarism")}),(0,r.jsx)(u.xv,{mb:6,children:_("projects.ifNotPlagiarized")}),(0,r.jsx)(z.zx,{onClick:X,isDisabled:b===$t.yv.LOADING,w:"max-content",children:_("projects.requestReview")}),(0,r.jsx)(Nr,{isOpen:y,onClose:w,plagiarismCaseId:null===m||void 0===m?void 0:m.id,plagiarismCaseStatus:b})]}):(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",mb:"5rem",gridColumn:{base:"1 / -1",md:"span 8"},children:[(0,r.jsx)(u.X6,{size:"h2",mb:4,children:_("projects.submissionResults")}),(0,r.jsx)(u.xv,{mb:2,children:_("projects.submissionDate",{date:(0,Ft.p6)(n)})}),(0,r.jsx)(Lt.b,{status:B,mb:10,children:H}),N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xv,{mb:4,children:_("projects.keyParts")}),a&&(0,r.jsxs)(u.kC,{gap:4,wrap:"wrap",children:[(0,r.jsx)(u.xv,{size:"label",children:_("projects.potentialSourceUrl")}),(0,r.jsx)(u.rU,{href:a,isExternal:!0,children:a})]}),l&&(0,r.jsx)($r,{comment:l})]}),q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xv,{children:_("projects.couldNotBeReviewed")}),l&&(0,r.jsx)($r,{comment:l})]}),(0,r.jsxs)(u.kC,{align:"center",gap:4,mb:2,children:[!N&&!q&&i&&(0,r.jsx)(z.zx,{as:"a",href:i,variant:"outline",children:_("projects.downloadSubmission")}),F||d?null:t===$t.Pd.CAN_CANCEL?(0,r.jsx)(z.zx,{onClick:c,children:_("projects.cancelSubmission")}):U?(0,r.jsx)(x.default,{href:A,passHref:!0,children:(0,r.jsx)(z.zx,{as:"a",children:_("projects.resubmitProject")})}):null]}),t===$t.Pd.HAS_FEEDBACK&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.xv,{children:(0,r.jsx)(Rr.c,{i18nKey:"projects.learnBestPractices",components:{resubmit_video:(0,r.jsx)(z.zx,{variant:"link",textDecor:"underline",fontWeight:"bold",onClick:P})}})}),(0,r.jsx)(Mr.z,{isOpen:S,onClose:O})]})]})},$r=function(e){var n=e.comment;return(0,r.jsx)(u.kC,{mt:4,mb:10,p:8,bgColor:"gray.100",borderRadius:"base",borderBottomEndRadius:"xl",children:(0,r.jsx)(Hr,{markdownText:n,showErrorBoundaryMessage:"true"===(0,B.H)("false")})})},Xr=function(e){var n,t,i=e.projectTitle,l=e.projectDueDate,a=e.submissions,c=e.handlePrevious,d=e.handleNext,f=e.hasSubmissionError,m=(0,s.$)().t,v=(0,Rt.T)(),h=(0,o.useState)(!1),x=h[0],j=h[1],g=(0,o.useState)(null===a||void 0===a?void 0:a[0]),y=g[0],w=g[1],k=(null===y||void 0===y?void 0:y.status)===$t.Pd.HAS_FEEDBACK||(null===y||void 0===y?void 0:y.status)===$t.Pd.PASSED,C=(0,Ft.zO)().isAfter(l),S=(null===y||void 0===y?void 0:y.status)===$t.Pd.PASSED,O=(null===y||void 0===y?void 0:y.status)!==$t.Pd.PASSED&&0!==(null===a||void 0===a?void 0:a.findIndex((function(e){return e.id===(null===y||void 0===y?void 0:y.id)}))),P=(0,p.CB)(null!==(n=null===y||void 0===y?void 0:y.id)&&void 0!==n?n:Ht.skipToken).error,_=(0,p.CR)(null!==(t=null===y||void 0===y?void 0:y.id)&&void 0!==t?t:Ht.skipToken).error,E=_&&"originalStatus"in _&&404===_.originalStatus&&!!(null===y||void 0===y?void 0:y.result)&&"ungradeable"!==y.result,A=P&&"originalStatus"in P&&404===P.originalStatus,I=E&&y;return(0,o.useEffect)((function(){(null===a||void 0===a?void 0:a[0])&&w(a[0])}),[a]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",mb:10,gridColumn:"1 / -1",children:[(0,r.jsx)(u.X6,{size:"h1",as:"h1",mb:2,children:m("projects.project",{projectTitle:i})}),l&&!S&&!f&&(0,r.jsx)(u.Ct,{bgColor:"gray.100",border:"1px solid",borderColor:"accent.sky.500",display:"flex",alignItems:"center",w:"max-content",h:"max-content",children:m(C?"projects.pastDueOn":"projects.completionDue",{dueDate:(0,Ft.p6)(l)})})]}),f&&(0,r.jsx)(u.P4,{gridColumn:"span 8",children:(0,r.jsx)(Lt.b,{status:"error",mb:"5rem",children:m("projects.failedToLoad")})}),y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Lr,{submissionDate:y.createdAt,submissionStatus:y.status,archiveUrl:y.archiveUrl,ungradeableComment:y.ungradeableReason,plagiarismSourceUrl:y.plagiarismSourceUrl,handleCancel:function(){return j(!0)},isPrevFailedSubmission:O}),k&&(0,r.jsx)(kr,{submission:y}),(0,r.jsx)(Kt,{isOpen:x,onClose:function(){v(p.dv.util.invalidateTags([{type:"Reviews",id:"Submissions-".concat(y.rubricId)}])),j(!1)},submissionId:y.id,rubricId:y.rubricId})]}),a&&a.length>1&&(0,r.jsx)(Fr,{submissions:a,handleShowSubmission:w}),(0,r.jsxs)(u.P4,{display:"flex",flexDir:"column",gridColumn:"1 / -1",alignSelf:"end",children:[(0,r.jsx)(u.iz,{mb:10}),I&&(0,r.jsx)(Ir,{showProjectRating:!!A,submissionId:y.id}),(0,r.jsxs)(u.kC,{gap:4,mb:4,align:"center",children:[c&&(0,r.jsx)(b.Q,{onClick:c}),d&&(0,r.jsx)(b.a,{onClick:d})]}),(0,r.jsx)(u.xv,{children:m("projects.youMayReturn")})]})]})},Wr=function(){var e=(0,s.$)(),n=e.i18n,t=e.t,o=(0,a.pm)(),i="rtl"===n.dir();return(0,r.jsxs)(u.kC,{align:"center",gap:4,p:4,mt:16,w:{base:"24.75rem",lg:"31.25rem",xl:"50.125rem"},pos:"relative",border:"4px solid transparent",bg:"linear-gradient(white, white) padding-box, linear-gradient(135deg, #9F4CDF 0%, #02B3E4 100%) border-box",borderRadius:"base",shadow:"toast",children:[(0,r.jsx)(u.kC,{align:"center",justify:"center",borderRadius:"full",minW:16,minH:16,bgGradient:"linear(135deg, #9F4CDF 0%, #02B3E4 100%)",children:(0,r.jsx)(y.BkP,{color:"white",w:12,h:12})}),(0,r.jsxs)(u.kC,{flexDir:"column",children:[(0,r.jsx)(u.X6,{size:"h3",as:"h3",color:"black",children:t("lesson.weeklyChallenge.challengeComplete")}),(0,r.jsx)(u.xv,{children:(0,r.jsxs)(Rr.c,{i18nKey:"lesson.weeklyChallenge.completedLessons",children:[(0,r.jsx)(u.xu,{as:"strong",fontWeight:"semibold",children:"_"}),"_"]})})]}),(0,r.jsx)(z.hU,{onClick:function(){return o.closeAll()},"aria-label":t("common.close"),icon:(0,r.jsx)(y.Two,{w:8,h:8,color:"gray.900"}),size:"icon",variant:"ghost",top:2,left:i?2:"unset",right:i?"unset":2,pos:"absolute"})]})};function Kr(e){var n=e.find(Z.bF);return n&&n.content.isPartnerWorkspace}var Gr=t(7886),Qr=t(18760);var Yr=t(12256),Zr=t(14027),Vr=t(86190),Jr=t(63929),eo=t(25092),no=t(33943),to=t(18586),ro=(0,o.createContext)(null),oo=function(){var e,n,t=(0,o.useState)(!1),r=t[0],i=t[1],s=(0,o.useState)(null),l=s[0],a=s[1],u=(0,o.useState)(""),c=u[0],d=u[1],f=(0,o.useCallback)((function(){a(null)}),[]),m=(0,o.useCallback)((function(){r||d(function(){var e=new Date,n=(0,no.sq)();return"".concat(n).concat(e.valueOf())}()),i(!r),f()}),[f,r,i]);return{feedbackSessionId:c,isAtomFeedbackEnabled:r,selectedAtomType:null!==(e=null===l||void 0===l?void 0:l.atomType)&&void 0!==e?e:null,selectedAtomKey:null!==(n=null===l||void 0===l?void 0:l.atomKey)&&void 0!==n?n:null,unstructuredResponse:null===l||void 0===l?void 0:l.unstructuredResponse,clearAtom:f,selectAtom:a,toggleIsAtomFeedbackEnabled:m}},io=function(){var e=(0,o.useContext)(ro);if(null===e)throw new Error("Unable to access AtomFeedbackContext");return e};var so=t(14293),lo=t.n(so),ao=t(14176),uo=t.n(ao),co="nanodegree",fo="part",mo="course",vo=t(47806);function po(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ho=function(){var e=function(){var e,n,t,r=(0,le.r)(),i=r.nanodegree,s=r.paidCourse,l=r.freeCourse,a=r.part,u=r.lesson,c=r.concept,d=(0,o.useMemo)((function(){var e;return null===(e=(0,vo.EV)(i))||void 0===e?void 0:e.id}),[i]),f=null!==(e=null!==i&&void 0!==i?i:s)&&void 0!==e?e:l,m=null===f||void 0===f?void 0:f.key,v=null===f||void 0===f?void 0:f.title,p=null===f||void 0===f?void 0:f.version,h=null===f||void 0===f?void 0:f.locale,b=i?co:s?fo:l?mo:"",x=null!==(n=null===a||void 0===a?void 0:a.key)&&void 0!==n?n:null===s||void 0===s?void 0:s.key,j=null!==(t=null===a||void 0===a?void 0:a.title)&&void 0!==t?t:null===s||void 0===s?void 0:s.title,g=null===u||void 0===u?void 0:u.key,y=null===u||void 0===u?void 0:u.title,w=null===c||void 0===c?void 0:c.key,k=null===c||void 0===c?void 0:c.title;return(0,o.useMemo)((function(){return uo()({cohort_id:d,part_key:x,part_title:j,lesson_key:g,lesson_title:y,concept_key:w,concept_title:k,program_key:m,program_title:v,program_type:b,content_version:p,content_locale:h},lo())}),[d,x,j,g,y,w,k,m,v,b,p,h])}(),n=io(),t=n.feedbackSessionId,r=n.selectedAtomType,i=n.selectedAtomKey,s=n.unstructuredResponse,l=(0,o.useMemo)((function(){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){po(e,n,t[n])}))}return e}({},e,{atom_key:i,atom_type:r,session_id:t,quiz_response:s})}),[e,t,i,r,s]);return l},bo=t(35614),xo=function(){var e=(0,bo.hb)().onClose,n=ho(),t=io(),i=t.isAtomFeedbackEnabled,l=t.toggleIsAtomFeedbackEnabled,a=(0,s.$)().t,u=a(i?"common.cancel":"lesson.feedbackButtonLabel"),c=(0,o.useCallback)((function(){i?(0,to.track)("Content Feedback Flow Canceled",n):(e(),(0,to.track)("Content Feedback Flow Started",n)),l()}),[i,n,l,e]);return(0,r.jsx)(z.zx,{variant:"ghost",onClick:c,children:u})},jo=t(34454),go=t(32475),yo=t.n(go),wo=t(22092),ko=(0,de.m$)(Yn.lX,{baseStyle:{margin:"0 0.25rem",padding:0,fontSize:"sm",fontWeight:"light"}}),Co=function(e){var n=e.isRequired,t=e.onChange,i=(0,s.$)().t,l=(0,o.useState)(0),a=l[0],c=l[1],d=(0,o.useState)(0),f=d[0],m=d[1],v=(0,o.useCallback)((function(e,n){if(e>0||n>0){var r=yo()(String(e),2,"0")||"00",o=yo()(String(n),2,"0")||"00",i="".concat(r,":").concat(o);t({answer:i})}else t({answer:null})}),[t]),p=(0,o.useCallback)((function(e,n){c(n),v(n,f)}),[v,f,c]),h=(0,o.useCallback)((function(e,n){m(n),v(a,n)}),[v,a,m]);return(0,r.jsxs)(u.Ug,{width:"50%",children:[(0,r.jsxs)(Yn.NI,{children:[(0,r.jsx)(ko,{children:i("lesson.atomFeedback.minute")}),(0,r.jsxs)(wo.Y2,{isRequired:n,min:0,value:a,onChange:p,children:[(0,r.jsx)(wo.zu,{}),(0,r.jsxs)(wo.Fi,{children:[(0,r.jsx)(wo.WQ,{}),(0,r.jsx)(wo.Y_,{})]})]})]}),(0,r.jsx)(u.xu,{as:"span",display:"flex",alignSelf:"flex-end",m:0,py:3,px:1,boxSizing:"border-box",children:":"}),(0,r.jsxs)(Yn.NI,{children:[(0,r.jsx)(ko,{children:i("lesson.atomFeedback.second")}),(0,r.jsxs)(wo.Y2,{isRequired:n,min:0,max:59,value:f,onChange:h,children:[(0,r.jsx)(wo.zu,{}),(0,r.jsxs)(wo.Fi,{children:[(0,r.jsx)(wo.WQ,{}),(0,r.jsx)(wo.Y_,{})]})]})]})]})},So=function(e){var n=e.question,t=e.onBlur,i=e.onChange,s=(0,o.useState)(""),l=s[0],a=s[1],c=n.required?"*":"",d="".concat(n.prompt).concat(c),f=(0,o.useMemo)((function(){if("radio"===n.type&&""!==l){var e,t=Number(l),r=n.choices[t];return null!==(e=null===r||void 0===r?void 0:r.input)&&void 0!==e?e:null}return null}),[n,l]);return(0,r.jsxs)(Yn.NI,{children:[(0,r.jsx)(Yn.lX,{fontWeight:"semibold",children:d}),"text"===n.type&&(0,r.jsx)(je.g,{onBlur:t,isRequired:!!n.required,placeholder:n.placeholder,value:l,onChange:function(e){var n=e.target.value;a(n),i({answer:n})},borderColor:"gray.400"}),"time"===n.type&&(0,r.jsx)(Co,{isRequired:!!n.required,onBlur:t,onChange:i}),"radio"===n.type&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Sn.Ee,{onChange:function(e){a(e),i({radioKey:Number(e),answer:null})},value:l,children:(0,r.jsx)(u.Kq,{spacing:2,mb:2,children:n.choices.map((function(e,n){return(0,r.jsx)(Sn.Y8,{borderColor:"gray.300",value:String(n),children:e.text},n)}))})}),f&&(0,r.jsx)(So,{question:f,onBlur:t,onChange:i})]})]})};function Oo(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Po(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Po(e,n,t[n])}))}return e}function Eo(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Ao(e){return function(e){if(Array.isArray(e))return Oo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Oo(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oo(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Io=function(){var e=(0,jo.V)(),n=(0,s.$)().t,t=ho(),i=io(),l=i.clearAtom,a=i.selectedAtomType,c=i.selectedAtomKey,d=i.toggleIsAtomFeedbackEnabled,f=(0,o.useMemo)((function(){return a?(0,Gr.gY)(a,n):[]}),[a,n]),m=(0,o.useState)(!1),v=m[0],p=m[1],h=(0,o.useState)(null),b=h[0],x=h[1],j=(0,o.useState)([]),g=j[0],w=j[1],k=f.map((function(e){var n=e.feedback;return{value:n,label:n}}));(0,o.useEffect)((function(){x(null),w([])}),[c,x,w]);var C=(0,o.useCallback)((function(e){if(e){var n=k.indexOf(e);n in f&&x(n)}}),[k,f,x]),S=(0,o.useMemo)((function(){return null!==b&&b in f?f[b]:null}),[f,b]),O=(0,o.useMemo)((function(){return S?S.questions.every((function(e,n){var t=e.required,r=Eo(e,["required"]);if(!t)return!0;if(!(n in g))return!1;var o=g[n];if(null===o||void 0===o?void 0:o.answer)return!0;var i=null===o||void 0===o?void 0:o.radioKey,s=null!==i&&void 0!==i;if("radio"===r.type&&"number"===typeof i){var l,a=(null===r||void 0===r||null===(l=r.choices)||void 0===l?void 0:l[i]).input;return(null===a||void 0===a?void 0:a.required)?s&&!!(null===o||void 0===o?void 0:o.answer):s}})):null}),[S,g]),P=(0,o.useCallback)((function(){p((function(e){return!e}))}),[p]),_=(0,o.useMemo)((function(){return _o({},t,{category:null===S||void 0===S?void 0:S.feedback,category_key:b,full_response:_o({},g)})}),[t,g,S,b]);(0,o.useEffect)((function(){c&&(0,to.track)("Content Feedback Atom Selected",t)}),[t,c]);var E=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,to.track)("Content Feedback Question Responded",_o({},_,e))}),[_]),A=(0,o.useCallback)((function(){return E()}),[E]);(0,o.useEffect)((function(){var e,n,t=null!==(n=null===S||void 0===S||null===(e=S.questions)||void 0===e?void 0:e.map((function(e){return{question:e.prompt,answer:null}})))&&void 0!==n?n:[];w(t),S&&E({full_responses:t})}),[S]);var I=(0,o.useCallback)((function(){(0,to.track)("Content Feedback Form Closed",_),l()}),[l,_]),T=(0,o.useCallback)((function(){(0,to.track)("Feedback Sent",_),e({message:n("lesson.atomFeedback.submissionSuccess"),variant:"success"}),w([]),x(null),d()}),[e,_,n,d]),F=(0,o.useCallback)((function(e,n){return function(t){w((function(r){var o,i=Ao(r);return i[e]=_o({},null!==(o=i[e])&&void 0!==o?o:{},t),"radio"===n&&E({full_responses:i}),i}))}}),[E,w]);return null===a?null:(0,r.jsxs)(u.kC,{flexDirection:"column",justify:"space-between",bg:"white",borderRadius:"base",boxShadow:"md",w:"90%",maxW:"26.25rem",zIndex:"modal",position:"fixed",bottom:"0.5rem",right:"1.5rem",overflow:"hidden",children:[(0,r.jsxs)(u.kC,{justify:"space-between",bg:"gray.900",pe:4,ps:6,children:[(0,r.jsx)(u.X6,{size:"h2",color:"white",fontSize:"md",fontWeight:"semibold",lineHeight:"3.5rem",children:n("lesson.atomFeedback.modalHeading")}),(0,r.jsxs)(u.kC,{justify:"center",alignItems:"center",children:[v?(0,r.jsx)(z.hU,{"aria-label":n("common.expand"),variant:"ghost",icon:(0,r.jsx)(y.VqF,{w:8,h:8,color:"white"}),onClick:P,isRound:!0,p:2,_hover:{bg:"transparent"},_active:{bg:"transparent"},_focus:{bg:"transparent"}}):(0,r.jsx)(z.hU,{"aria-label":n("common.minimize"),variant:"ghost",icon:(0,r.jsx)(y.b2Y,{w:8,h:8,color:"white"}),onClick:P,isRound:!0,p:2,_hover:{bg:"transparent"},_active:{bg:"transparent"},_focus:{bg:"transparent"}}),(0,r.jsx)(z.hU,{"aria-label":n("common.close"),variant:"ghost",icon:(0,r.jsx)(y.Two,{w:8,h:8,color:"white"}),onClick:I,isRound:!0,p:2,_hover:{bg:"transparent"},_active:{bg:"transparent"},_focus:{bg:"transparent"}})]})]}),(0,r.jsxs)(u.kC,{flexDirection:"column",justify:"space-between",h:v?0:"40rem",visibility:v?"hidden":"visible",transition:"0.2s height ease-in-out",children:[(0,r.jsxs)(u.kC,{direction:"column",grow:1,overflowY:"auto",p:4,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u.xv,{size:"label",id:"atom-feedback-feedbackheading",color:"gray.900",pb:4,children:n("lesson.atomFeedback.feedbackHeading")}),(0,r.jsx)(Tr.Z,{isRequired:!0,onChange:C,options:k,placeholder:n("lesson.atomFeedback.selectCategory"),"aria-labelledby":"atom-feedback-feedbackheading",chakraStyles:(0,zr.AP)()})]}),(0,r.jsx)(u.xu,{sx:{"& > *":{margin:"2rem 0"}},children:null===S||void 0===S?void 0:S.questions.map((function(e,n){return(0,r.jsx)(So,{question:e,onBlur:A,onChange:F(n,e.type)},"".concat(b,"-").concat(n))}))})]}),(0,r.jsx)(u.xu,{p:4,bg:"gray.100",borderTop:"1px solid",borderTopColor:"gray.300",children:(0,r.jsx)(z.zx,{size:"sm",disabled:!O,variant:"solid",onClick:T,children:n("lesson.atomFeedback.submitLabel")})})]})]})},To=function(e){var n=e.shouldHide,t=e.children;return(0,r.jsx)(u.xu,{display:n?"none":void 0,_notLast:{mb:8},children:t})},zo=t(71015),Fo=function(e){var n=e.atomKey,t=e.atomType,i=e.unstructuredResponse,l=e.children,a=(0,s.$)().t,c=io(),d=c.isAtomFeedbackEnabled&&null===c.selectedAtomKey,f=(0,o.useCallback)((function(){c.selectAtom({atomKey:n,atomType:t,unstructuredResponse:i})}),[n,t,c,i]);return(0,r.jsxs)(u.xu,{pos:d?"relative":"unset",sx:{"> :not(:last-child)":{mb:8}},children:[d&&(0,r.jsx)(u.kC,{justify:"center",align:"center",border:"3px dashed",borderColor:"blue.500",boxSizing:"content-box",pos:"absolute",w:"100%",h:"100%",m:"-3px",zIndex:"med-high",cursor:"pointer",bgColor:"rgba(29, 81, 116, 0.3)",transition:"0.2s background-color ease-in-out",_hover:{bgColor:"rgba(178, 206, 224, 0.3)"},onClick:f,children:(0,r.jsx)(z.zx,{bgColor:"white",border:"1px solid",borderColor:"blue.500",borderRadius:"sm",shadow:"md",color:"blue.500",fontSize:"sm",letterSpacing:.4,fontWeight:"semibold",padding:"0.5rem 0.875rem",height:"auto",_hover:{shadow:"base"},children:a("lesson.atomFeedback.atomSelect")})}),l]})},Ro=function(e){var n=e.atoms,t=(0,zo.O)(),i=t.isExpanded,s=t.expandedAtom,l=t.toggleExpandedAtom;return(0,o.useEffect)((function(){i&&s&&(n.map((function(e){return e.key})).includes(s)||l(void 0))}),[n,s,i,l]),(0,r.jsx)(r.Fragment,{children:n.map((function(e){var n=void 0!==e.key&&null!==e.key&&e.key===s,t=i&&!!s;return(0,r.jsx)(To,{shouldHide:t&&!n,children:e.key&&e.semanticType?(0,r.jsx)(Fo,{atomKey:e.key,atomType:e.semanticType,children:(0,r.jsx)(lt,{atom:e})}):(0,r.jsx)(lt,{atom:e})},e.key)}))})},Do=t(70349),Mo=t(11489),No=function(e){var n=e.breadcrumbs,t=e.numOfRows,o=e.children;return(0,r.jsx)(gt.X,{shouldScroll:!0,isMain:!1,children:(0,r.jsx)(Mo.Z,{children:(0,r.jsx)(u.xu,{minH:"full",bgColor:"white",px:{base:0,lg:12},children:(0,r.jsxs)(h._2,{gridTemplateRows:t?"repeat(".concat(t-1,", max-content) 1fr"):"auto",children:[(0,r.jsx)(u.P4,{gridColumn:"1 / -1",mb:8,children:(0,r.jsx)(k,{breadcrumbs:n})}),o]})})})})};t(97604);function qo(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Uo(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return qo(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qo(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bo=function(){var e=(0,le.r)(),n=e.lesson,t=e.concept,i=(0,ae.Z)(!0);!function(){var e=(0,an.useRouter)(),n=new URL(window.location.href).search,t=(0,le.r)(),r=t.nanodegree,i=t.part,s=t.lesson,l=t.concept,a=t.freeCourse,u=t.paidCourse;(0,o.useEffect)((function(){if(s){var t,o=null!==(t=(0,Gr.D7)(s))&&void 0!==t?t:(0,Gr.kz)(s)[0];r&&i&&s&&!l&&e.replace(Qr.FO.nanodegree({nanodegree:r,part:i,lesson:s,lessonContent:o,queryString:n})),u&&s&&!l&&e.replace(Qr.FO.paidCourse({paidCourse:u,lesson:s,lessonContent:o,queryString:n})),a&&s&&!l&&e.replace(Qr.FO.freeCourse({freeCourse:a,lesson:s,lessonContent:o,queryString:n}))}}),[r,i,s,l,u,a,e,n])}();var s=ie();return(0,r.jsx)(oe.Provider,{value:s,children:(0,r.jsx)(dt._,{children:n&&t&&(0,r.jsx)(Ho,{lesson:n,concept:t,rootNode:i})})})},Ho=function(e){var n,t,f,m=e.lesson,x=e.concept,j=e.rootNode,g=(0,o.useState)(!1),y=g[0],w=g[1],C=(0,s.$)().t,S=(0,eo.P)().isStaticAccess,O=(0,le.r)(),P=O.atoms,_=O.isFetchLessonAtomsComplete,E=O.atomsByConceptKey,A=(0,Dr.B)(),I=A.selectEnrollmentForKey,T=A.checkUpgradeEnrollment,z=(0,Jr.A)(),F=z.postConceptUserState,R=z.postProgramUserState,D=Uo((0,l.ac)(["(min-width: 480px)"]),1)[0],M=(0,p.SY)(Number(null===(n=m.project)||void 0===n?void 0:n.rubricId),{skip:!(null===(t=m.project)||void 0===t?void 0:t.rubricId)}),N=M.data,q=M.isFetching,U=M.isError,B=Uo((0,d.ss)(),2),H=B[0],L=B[1].error;(0,o.useEffect)((function(){L&&console.error("Could not update unstructured user state")}),[L]);var $=I(null!==(f=null===j||void 0===j?void 0:j.key)&&void 0!==f?f:""),X=oo(),W=(0,a.pm)(),K=se(),G=K.feedback,Q=K.clearFeedback,Y=(0,Vr.Z)(),V=Y.goTo,J=Y.isLastContent,ee=Y.nextLessonTitle,ne=Y.breadcrumbs,te=(0,Zr.g)(),re=te.conceptsCompletedCount,oe=te.challengeTotal,ie=(0,Rt.T)(),ae=x.isSubmitProject&&!!m.project,ue=x.isProjectRubric&&!!m.project,ce=(0,o.useMemo)((function(){if(m.isProjectLesson&&E){var e,n,t=Object.keys(E).find((function(e){return E[e].some((function(e){return(0,Z.bF)(e)&&e.content.allowSubmit}))})),r=t?E[t].find((function(e){return(0,Z.bF)(e)&&e.content.allowSubmit})):null,o=r?null===(n=null===(e=m.concepts)||void 0===e?void 0:e.find((function(e){return e.key===t})))||void 0===n?void 0:n.id:1;return{atom:r||null,conceptId:null!==o&&void 0!==o?o:1}}return{atom:null,conceptId:1}}),[E,m.isProjectLesson,m.concepts]),de=!(ae||S||ue),fe=function(){var e;J&&!S?w(!0):null===(e=V.next)||void 0===e||e.call(V)};(0,o.useEffect)((function(){$&&T($),R(j)}),[]);var me,ve,pe,he,be,xe,je,ge,ye,we,ke,Ce=(0,Yr.i)(!0,x.key);return(0,o.useEffect)((function(){var e=ae||ue?{project_key:m.project.key,project_progress_key:m.project.progressKey}:void 0;Ce("Concept",e)}),[Ce,x.key]),(0,o.useEffect)((function(){var e,n,t,r=P.some((function(e){var n,t;return(0,Z.bF)(e)&&"qwiklabs"===(null===e||void 0===e||null===(n=e.content)||void 0===n||null===(t=n.configuration)||void 0===t?void 0:t.partner)}));(_&&!r&&F(x,j),ue&&(null===j||void 0===j?void 0:j.id)&&j.key&&m.id)&&H({rootId:j.id,rootInfo:{key:j.key,version:null!==(e=j.version)&&void 0!==e?e:"",locale:null!==(n=j.locale)&&void 0!==n?n:"",kind:null!==(t=j.semanticType)&&void 0!==t?t:""},input:{node_id:m.id,unstructured:'{"rubric_viewed": true}'}})}),[x.key,_]),(0,o.useEffect)((function(){var e,n;(null===(e=x.userState)||void 0===e?void 0:e.completedAt)||(ie(v(null!==(n=(0,no.sq)())&&void 0!==n?n:"")),re===oe&&setTimeout((function(){return W({position:"top",render:function(){return(0,r.jsx)(Wr,{})}})}),1e3))}),[x.key]),ae&&q?(0,r.jsxs)(r.Fragment,{children:[m.title&&(0,r.jsx)(i.PB,{title:m.title}),(0,r.jsx)(No,{breadcrumbs:ne,numOfRows:1,children:(0,r.jsx)(u.P4,{display:"flex",justifyContent:"center",gridColumn:"1 / -1",children:(0,r.jsx)(c.$,{})})})]}):ae&&!(null===N||void 0===N?void 0:N.length)?(0,r.jsxs)(r.Fragment,{children:[m.title&&(0,r.jsx)(i.PB,{title:m.title}),(0,r.jsxs)(No,{breadcrumbs:ne,numOfRows:4,children:[(0,r.jsx)(Bt,{projectTitle:null!==(ve=m.project.title)&&void 0!==ve?ve:"",projectDueDate:null!==(pe=null===(me=m.project.projectState)||void 0===me?void 0:me.dueAt)&&void 0!==pe?pe:"",projectDescription:null!==(he=m.project.description)&&void 0!==he?he:"",rubricId:m.project.rubricId,isCareer:m.project.isCareer,isStaticAccess:S,projectWorkspace:ce,handlePrevious:V.previous,handleNext:fe}),y&&(0,r.jsx)(Do.r,{button:{label:C("lesson.feedback.startNext"),goToNext:V.next?V.next:function(){return w(!1)}},currentContent:m,currentTitle:null!==(be=m.title)&&void 0!==be?be:"",isOpen:y,onRequestClose:function(){var e;ie(p.dv.util.invalidateTags([{type:"Reviews",id:"Submissions-".concat(null===(e=m.project)||void 0===e?void 0:e.rubricId)}])),w(!1)},nextTitle:ee})]})]}):ae&&((null===N||void 0===N?void 0:N.length)||U)?(0,r.jsxs)(r.Fragment,{children:[m.title&&(0,r.jsx)(i.PB,{title:m.title}),(0,r.jsxs)(No,{breadcrumbs:ne,numOfRows:U?4:N&&N.length>1?6:4,children:[(0,r.jsx)(Xr,{projectTitle:null!==(je=m.project.title)&&void 0!==je?je:"",projectDueDate:null!==(ge=null===(xe=m.project.projectState)||void 0===xe?void 0:xe.dueAt)&&void 0!==ge?ge:"",submissions:N,handlePrevious:V.previous,handleNext:fe,hasSubmissionError:U}),y&&(0,r.jsx)(Do.r,{button:{label:C("lesson.feedback.startNext"),goToNext:V.next?V.next:function(){return w(!1)}},currentContent:m,currentTitle:null!==(ye=m.title)&&void 0!==ye?ye:"",isOpen:y,onRequestClose:function(){return w(!1)},nextTitle:ee})]})]}):ue?(0,r.jsxs)(r.Fragment,{children:[m.title&&(0,r.jsx)(i.PB,{title:m.title}),(0,r.jsx)(No,{breadcrumbs:ne,children:(0,r.jsx)(kt,{rubricId:m.project.rubricId,projectTitle:null!==(we=m.project.title)&&void 0!==we?we:"",handlePrevious:V.previous,handleNext:fe})})]}):(0,r.jsxs)(ro.Provider,{value:X,children:[m.title&&(0,r.jsx)(i.PB,{title:m.title}),(0,r.jsxs)(gt.X,{shouldScroll:!0,isMain:!1,children:[(0,r.jsx)(Mo.Z,{children:(0,r.jsx)(u.xu,{h:"full",bg:"white",px:{base:0,lg:12},children:(0,r.jsx)(h._2,{children:(0,r.jsxs)(u.P4,{gridColumn:"1 / -1",children:[(0,r.jsxs)(u.Kq,{mb:6,spacing:6,children:[(0,r.jsx)(u.xu,{mb:2,children:(0,r.jsx)(k,{breadcrumbs:ne})}),(0,r.jsx)(u.X6,{size:"h1",as:"h1",children:null===x||void 0===x?void 0:x.title})]}),(0,r.jsxs)(u.xu,{children:[Kr(P)?(0,r.jsx)(ct,{atoms:P}):(0,r.jsx)(Ro,{atoms:P}),(0,r.jsx)(jt,{isOpen:void 0!=(null===G||void 0===G?void 0:G.isCorrect),onClose:Q,feedback:G})]}),(0,r.jsx)(u.iz,{mt:12,mb:8}),(0,r.jsxs)(u.kC,{justify:"space-between",align:"center",children:[(0,r.jsxs)(u.kC,{gap:6,align:"center",children:[V.previous&&(0,r.jsx)(b.Q,{onClick:V.previous}),V.next&&(0,r.jsx)(b.a,{onClick:fe})]}),de&&D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(xo,{}),(0,r.jsx)(Io,{})]})]})]})})})}),y&&(0,r.jsx)(Do.r,{button:{label:C("lesson.feedback.startNext"),goToNext:V.next?V.next:function(){return w(!1)}},currentContent:m,currentTitle:null!==(ke=m.title)&&void 0!==ke?ke:"",isOpen:y,onRequestClose:function(){return w(!1)},nextTitle:ee})]})]})}},47806:function(e,n,t){"use strict";t.d(n,{YC:function(){return s},EV:function(){return l}});var r=t(75472),o=t.n(r),i=t(7886);function s(e){if(e.parts){var n=e.parts.reduce((function(e,n){if(n.lessons){var t=n.lessons.reduce((function(e,t){var r=(0,i.Ob)(t);return r?e&&e.lastViewedAt>r?e:{part:n,lesson:t,lastViewedAt:r}:e}),void 0);return e?t&&t.lastViewedAt>e.lastViewedAt?t:e:t}}),void 0);return n?{lesson:n.lesson,part:n.part}:void 0}}function l(e){return function(e){return(null===e||void 0===e?void 0:e.cohorts)?o()(e.cohorts,(function(e){if(e.startAt)return new Date(e.startAt)}),["asc"]):[]}(e).pop()}},12256:function(e,n,t){"use strict";t.d(n,{i:function(){return i}});var r=t(67294),o=t(71447),i=function(e,n){var t=(0,o.z)().page,i=(0,r.useRef)(!1),s=(0,r.useCallback)((function(e,n){t&&!i.current&&(t(e,null!==n&&void 0!==n?n:{}),i.current=!0)}),[t]),l=(0,r.useRef)(""),a=n||"",u=(0,r.useCallback)((function(e,n){t&&l.current!==a&&(t(e,null!==n&&void 0!==n?n:{}),l.current=a)}),[t,a]);return e?u:s}},14027:function(e,n,t){"use strict";t.d(n,{g:function(){return l}});var r=t(67294),o=t(45673),i=t(20285),s=t(33943),l=function(){var e,n,t,l=(0,r.useState)(null),a=l[0],u=l[1],c=(0,i.D5)(a||o.skipToken),d=c.data,f=c.error,m=c.isFetching;(0,r.useEffect)((function(){f&&console.error(f)}),[f]);var v,p,h,b=(0,i.Jw)({user_id:null!==(v=(0,s.sq)())&&void 0!==v?v:""}),x=b.data,j=b.error,g=b.isFetching;return(0,r.useEffect)((function(){j&&console.error(j)}),[j]),{leaderboardData:d?(0,i.oN)(d):{top:[],peers:[]},lastFetched:null===d||void 0===d||null===(e=d.leaderboard)||void 0===e?void 0:e.calculated,fetchLeaderboard:function(e){u(e)},isLoading:m,weeklyChallengeData:null===x||void 0===x?void 0:x.studentChallenge,conceptsCompletedCount:null!==(p=null===x||void 0===x||null===(n=x.studentChallenge)||void 0===n?void 0:n.concepts_completed_count)&&void 0!==p?p:0,challengeTotal:null!==(h=null===x||void 0===x||null===(t=x.studentChallenge)||void 0===t?void 0:t.concept_target)&&void 0!==h?h:5,isFetchingWeeklyChallenge:g}}},63929:function(e,n,t){"use strict";t.d(n,{A:function(){return a}});var r=t(67294),o=t(40556),i=t(92098);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);s=!0);}catch(a){l=!0,o=a}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=function(){var e=l((0,o.ss)(),2),n=e[0],t=e[1].error;(0,r.useEffect)((function(){t&&console.error("Could not update program user state")}),[t]);return{postProgramUserState:function(e){if((null===e||void 0===e?void 0:e.key)&&(null===e||void 0===e?void 0:e.id)){var t,r,o,s=(0,i.zO)().toISOString();n({rootId:e.id,rootInfo:{key:e.key,version:null!==(t=e.version)&&void 0!==t?t:"",locale:null!==(r=e.locale)&&void 0!==r?r:"",kind:null!==(o=e.semanticType)&&void 0!==o?o:""},input:{node_id:e.id,last_viewed_at:s}})}},postConceptUserState:function(e,t){var r;if(!(null===e||void 0===e?void 0:e.isSubmitProject)&&!(null===e||void 0===e?void 0:e.isProjectRubric)&&t&&t.id&&t.key&&(null===e||void 0===e?void 0:e.id)){var o,s,l,a=(0,i.zO)().toISOString();n({rootId:t.id,rootInfo:{key:t.key,version:null!==(o=t.version)&&void 0!==o?o:"",locale:null!==(s=t.locale)&&void 0!==s?s:"",kind:t.semanticType},input:{node_id:e.id,last_viewed_at:a,completed_at:null!==(l=null===e||void 0===e||null===(r=e.userState)||void 0===r?void 0:r.completedAt)&&void 0!==l?l:a}})}}}}},46985:function(e){e.exports={blocker:"ClickBlocker_blocker__Agscc"}},91719:function(e){e.exports={"separator-row":"SeparatorRow_separator-row__MCZY4"}},43567:function(e){e.exports={icon:"FeedbackModal_icon__WLaw7",reaction:"FeedbackModal_reaction__LfwuR","reaction-1":"FeedbackModal_reaction-1__tikNY","reaction-2":"FeedbackModal_reaction-2__BCJdX","reaction-3":"FeedbackModal_reaction-3__bQobG","reaction-1-hover":"FeedbackModal_reaction-1-hover__cSbgs","reaction-2-hover":"FeedbackModal_reaction-2-hover__JDcdv","reaction-3-hover":"FeedbackModal_reaction-3-hover__PDW8_","reaction-1-active":"FeedbackModal_reaction-1-active__0AuUl","reaction-2-active":"FeedbackModal_reaction-2-active__xh1mc","reaction-3-active":"FeedbackModal_reaction-3-active__W_PR0","reaction-1-small":"FeedbackModal_reaction-1-small__2yqZR","reaction-2-small":"FeedbackModal_reaction-2-small__sIiEM","reaction-3-small":"FeedbackModal_reaction-3-small__bYPaD"}}}]);